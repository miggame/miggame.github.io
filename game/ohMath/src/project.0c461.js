__require=function t(i,e,c){function n(o,a){if(!e[o]){if(!i[o]){var r=o.split("/");if(r=r[r.length-1],!i[r]){var u="function"==typeof __require&&__require;if(!a&&u)return u(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+o+"'")}}var l=e[o]={exports:{}};i[o][0].call(l.exports,function(t){return n(i[o][1][t]||t)},l,l.exports,t,i,e,c)}return e[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<c.length;o++)n(c[o]);return n}({AudioMgr:[function(t,i,e){"use strict";cc._RF.push(i,"a43a7/3dfdCWZaCW/AIwur8","AudioMgr"),cc.Class({extends:cc.Component,properties:{_musicBg:null},start:function(){},playMusic:function(){cc.loader.loadRes("audio/background",cc.AudioClip,function(t,i){this._musicBg?cc.audioEngine.resume(this._musicBg):this._musicBg=cc.audioEngine.play(i,!0)}.bind(this))},pauseMusic:function(){cc.audioEngine.pause(this._musicBg)},resumeMusic:function(){cc.audioEngine.resume(this._musicBg)},stopMusic:function(){cc.audioEngine.stop(this._musicBg),this._musicBg=null},playSound:function(t){var i="audio/"+t;cc.loader.loadRes(i,cc.AudioClip,function(t,i){cc.audioEngine.playEffect(i)})}}),cc._RF.pop()},{}],Base:[function(t,i,e){"use strict";cc._RF.push(i,"077e0I8xXNMwLfp/Vo9GLeo","Base"),cc.Class({extends:cc.Component,properties:{},start:function(){},close:function(){this.node.destroy()}}),cc._RF.pop()},{}],BtnSound:[function(t,i,e){"use strict";cc._RF.push(i,"61973N0fbpPjYwfmoVaLgi9","BtnSound"),cc.Class({extends:cc.Component,properties:{btnSound:{default:null,type:cc.AudioClip}},onLoad:function(){var t=this;this.node.on("touchend",function(){t.btnSound?cc.audioEngine.playEffect(btnSound):cc.loader.loadRes("audio/button",function(t,i){cc.audioEngine.playEffect(i)})})},start:function(){}}),cc._RF.pop()},{}],Game:[function(t,i,e){"use strict";cc._RF.push(i,"382cdS2i2BNy4pijJXzocOR","Game"),cc.Class({extends:t("Base"),properties:{lblNum1:cc.Label,lblNum2:cc.Label,lblNum3:cc.Label,lblExpress:cc.Label,spTime:cc.Sprite,lblScore:cc.Label,lblCounting:cc.Label,_startFlag:!1},onLoad:function(){this.time=this.allTime=10,this.init(),this.countingTime(),this._startFlag=!1},start:function(){},init:function(){this.counting=4,this.click=0,this.score=0,this.anwser3="",this.lblScore.string=this.score,this.lblNum3.string=this.anwser3,this.lblCounting.node.active=!1},onBtnClick:function(t){if(this._startFlag){var i=parseInt(t.target.name.split("btnNum")[1]);this.click++,this.lblNum3.string=this.lblNum3.string+i;var e=(this.anwser+"").length;this.click===e&&this.checkRight(parseInt(this.lblNum3.string))}},startGame:function(){this.schedule(this.timeCount,1),this.getAnswer()},timeCount:function(){if(this.time--,this.time<=0)return this.unschedule(this.timeCount),cc.mig.main.setGameState(2,this.score),cc.mig.audioMgr.playSound("over"),void this.close();this.refreshTime()},refreshTime:function(){var t=parseFloat(this.time/this.allTime);this.spTime.fillRange=t,t<=.3&&cc.mig.audioMgr.playSound("timer")},getAnswer:function(){var t=Math.floor(3*cc.random0To1());if(this.anwser1=Math.floor(9*cc.random0To1()),this.anwser2=Math.floor(9*cc.random0To1()),0===t)this.anwser=this.anwser1+this.anwser2;else if(1===t){if(this.anwser1<this.anwser2)return void this.getAnswer();this.anwser=this.anwser1-this.anwser2}else if(2===t)this.anwser=this.anwser1*this.anwser2;else if(3===t){if(!(this.anwser1>this.anwser2&&this.anwser1%this.anwser2==0))return void this.getAnswer();this.anwser=this.anwser1/this.anwser2}this.lblNum1.string=this.anwser1,this.lblNum2.string=this.anwser2,this.lblExpress.string=["+","-","*","/"][t]},checkRight:function(t){t===this.anwser?(this.plusScore(),this.getAnswer(),cc.mig.audioMgr.playSound("right")):cc.mig.audioMgr.playSound("wrong"),this.reset()},plusScore:function(){this.time++,this.time>=this.allTime&&(this.time=this.allTime),this.refreshTime(),this.score++,this.lblScore.string=this.score,this.lblScore.node.runAction(cc.sequence(cc.scaleTo(.2,1.5),cc.scaleTo(.3,1)))},reset:function(){var t=this;this.lblNum3.node.runAction(cc.sequence(cc.scaleTo(.2,1.5),cc.scaleTo(.3,1),cc.callFunc(function(){t.anwser3="",t.lblNum3.string=t.anwser3,t.click=0})))},countingTime:function(){this.schedule(this.countingTimeCb,1,3,0)},countingTimeCb:function(){this.lblCounting.node.active=!0,this.counting--,this.lblCounting.string=this.counting,this.lblCounting.node.runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5))),cc.mig.audioMgr.playSound("timer"),this.counting<=0&&(this._startFlag=!0,this.lblCounting.string="\u5f00\u59cb",this.lblCounting.node.runAction(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5))),this.startGame(),this.unschedule(this.countingTimeCb))}}),cc._RF.pop()},{Base:"Base"}],MainScene:[function(t,i,e){"use strict";cc._RF.push(i,"6a10aKRXt9E6KccJh+b83T3","MainScene");var c=t("Utils"),n=t("AudioMgr");cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.mig={},cc.mig.main=this,cc.mig.utils=new c,cc.mig.utils.initAd(),cc.mig.audioMgr=new n,cc.mig.audioMgr.playMusic(),this.setGameState(0)},start:function(){},setGameState:function(t,i){0===t?cc.mig.utils.newPrefab("prefab/Menu",this.node,0):1===t?cc.mig.utils.newPrefab("prefab/Game",this.node,0):2===t&&cc.mig.utils.newPrefab("prefab/Over",this.node,0,function(t){t.getComponent("Over").initView(i)})}}),cc._RF.pop()},{AudioMgr:"AudioMgr",Utils:"Utils"}],Menu:[function(t,i,e){"use strict";cc._RF.push(i,"def5aHGnyNIa4Xbr56aOpVU","Menu"),cc.Class({extends:t("Base"),properties:{},onLoad:function(){this.node.getChildByName("title").runAction(cc.repeatForever(cc.sequence(cc.moveBy(1,cc.v2(0,50)),cc.moveBy(1,cc.v2(0,-50)))))},start:function(){},onBtnClick:function(t){switch(t.target.name){case"startButton":cc.mig.main.setGameState(1),this.close();break;case"rankButton":cc.mig.utils.showAd()}}}),cc._RF.pop()},{Base:"Base"}],Over:[function(t,i,e){"use strict";cc._RF.push(i,"5a5e0iP7wNHq79h8RfhE4Rg","Over"),cc.Class({extends:t("Base"),properties:{lblScore:cc.Label,lblBestScore:cc.Label},onLoad:function(){this.node.getChildByName("title").runAction(cc.repeatForever(cc.sequence(cc.moveBy(1,cc.v2(0,50)),cc.moveBy(1,cc.v2(0,-50))))),cc.mig.utils.showAd()},start:function(){},initView:function(t){var i=t;this.lblScore.string="Score: "+i;var e=cc.sys.localStorage.getItem("bestScore");e=void 0===e?i:e>i?e:i,this.lblBestScore.string="Best Score: "+e,cc.sys.localStorage.setItem("bestScore",e)},onBtnClick:function(t){switch(t.target.name){case"btnRetry":cc.mig.main.setGameState(1);break;case"btnHome":cc.mig.main.setGameState(0);break;case"btnMore":cc.mig.utils.showAd()}}}),cc._RF.pop()},{Base:"Base"}],Utils:[function(t,i,e){"use strict";cc._RF.push(i,"1ba37D9qP9DhJNY0HDEWKFD","Utils"),cc.Class({extends:cc.Component,properties:{},start:function(){},newPrefab:function(t,i,e,c){cc.loader.loadRes(t,function(t,n){if(t)console.log("\u52a0\u8f7d\u9884\u5236\u8d44\u6e90\u51fa\u9519");else{var s=cc.instantiate(n);i.addChild(s),s.setLocalZOrder(e),c&&c(s)}})},initAd:function(){window.Vijs&&(window.myAd57340=Vijs.setAD({unitid:57340,loadedCallback:function(){console.log("load success")},rewardedCallback:function(t,i){console.log(i)}}))},showAd:function(){window.myAd57340&&window.myAd57340.show()}}),cc._RF.pop()},{}]},{},["AudioMgr","Base","BtnSound","Game","MainScene","Menu","Over","Utils"]);