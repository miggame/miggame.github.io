{"version":3,"sources":["assets/module/audio/AudioMgr.js","assets/module/shop/BallItem.js","assets/module/game/Ball.js","assets/module/game/Block.js","assets/module/audio/ButtonClickSound.js","assets/core/util/ComUIBg.js","assets/module/end/End.js","assets/module/gameData/GameCfg.js","assets/module/gameData/GameData.js","assets/module/msg/GameLocalMsg.js","assets/module/game/GameModule.js","assets/module/game/Game.js","assets/module/shop/GiftItem.js","assets/module/loading/Loading.js","assets/module/MainScene.js","assets/module/menu/Menu.js","assets/core/ObserverMgr.js","assets/core/Observer.js","assets/module/pause/Pause.js","assets/module/game/Preview.js","assets/module/shop/RubyItem.js","assets/module/shop/ShopModule.js","assets/module/shop/Shop.js","assets/module/menu/SignModule.js","assets/module/menu/Sign.js","assets/module/menu/Stage.js","assets/core/util/UIMgr.js"],"names":["module","exports","_bgMusic","_guideMusic","playButtonSound","cc","loader","loadRes","AudioClip","err","clip","audioEngine","play","playHitSound","playWinSound","playFailSound","playMainMusic","this","bind","stopCurrentBackgroundMusic","stop","playEffectMusic","path","isLoop","playEffect","UIMgr","require","GameCfg","ObserverMgr","ShopModule","Observer","Class","extends","properties","spBall","displayName","default","type","Sprite","lblName","Label","lblPrice","btnBuy","btnUsed","spUsedBg","_data","_shopScript","_getMsgList","GameLocalMsg","Msg","BuyBall","_onMsg","msg","data","index","initView","onLoad","_initMsg","start","size","changeSpImg","string","node","setLocalZOrder","active","isUsed","hasOwned","price","onBtnClickToBuy","parseInt","totalRuby","dispatchMsg","InsufficientRuby","ball","ballIndex","saveTotalRuby","saveShopData","RefreshRuby","AudioMgr","Component","_pool","_hitGround","V","pool","_phyBody","getComponent","RigidBody","_vel","linearVelocity","_ballData","_path","width","height","onBeginContact","contact","self","other","tag","hit","_type","_v","_radianArr","Math","PI","_randIndex","floor","rand","rotateSelf","pos","position","put","BallEndPos","GameData","spBlock","lblScore","_index","_data1","_data2","_hp","xmarkLayout","Node","spLeft","spRight","_isOpen","stageData","layer1","layer2","parentNode","leftRow","isPreview","arguments","length","undefined","x","indexOf","_parent","parent","_w","y","vWidth","defaultCol","_initHp","_initPhysics","baseScore","_arr","refreshHp","_resetLabelPos","_points","w","_p0","v2","_p1","_p2","_p3","_phyCollider","addComponent","PhysicsCircleCollider","sensor","radius","PhysicsPolygonCollider","points","apply","_this","_tempArr","runAction","sequence","scaleTo","children","forEach","_block","_script","destroy","removeComponent","_tarPos","_moveAct","moveTo","_scaleAct","removeSelf","ballCount","_tempArr2","_tempArr3","UpdateScore","_h","scaleSelf","playAct","_leftOpenAct","moveBy","_rightOpenAct","_leftCloseAct","_rightCloseAct","clickSound","on","bgNode","view","getVisibleSize","h","addUI","ui","instantiate","addChild","lblStage","lblStatus","spStarArr","btnRetry","Button","btnNext","_spStar","stage","status","i","starNum","onBtnClickToRetry","GoGame","destroyUI","onBtnClickToNext","_stage","_nextStage","saveCurStage","_curStar","getStarNum","setStarNum","saveStageCfg","gamedata_savelv","initStageData","onBtnClickToHome","GoMenu","GameModule","heigth","curStage","stageCfg","ballSpeed","lineLength","dotCount","ballPlusCount","totalStar","ballData","init","_curStage","sys","localStorage","getItem","getTotalStar","getTotalRuby","initShopData","initPropertyData","value","setItem","getCurStage","getStageCfg","JSON","parse","obj","stringify","_star","_stageData","_key","hasOwnProperty","_elem","_ruby","_shopData","_ballIndex","_propertyData","savePropertyData","mapdata","key","json","window","CanTouch","End","Pause","PauseRetry","PauseGoMenu","property","num","addNode","_blockPool","blockPre","Prefab","blockLayer","_leftRow","previewPre","_ballPool","ballPre","_ballCount","ballLayer","lblBallCount","spBallTemp","lblBallCountTemp","ballUILayer","_canTouch","_ballPos","_touchP","_shootBallCount","_ballEndPos","backBallLayer","_backBallCount","bottomLayout","btnBack","spWarning","_killCount","_sumScore","_maxScore","lblTotalScore","progressBar","ProgressBar","_starNum","hintLayer","spHintDot","spDot","dotLayout","ballPlusFlag","blockPlusFlag","propertyLayout","shopPre","_showBackBall","_updateStar","_close","_refreshScore","_showUIBall","NodePool","_tempBlockNode","destroyAllChildren","_i2","_tempBallNode","physicsManager","director","getPhysicsManager","enabled","len","_dotNode","_calMaxScore","_reset","_i3","j","_showBlock","_showPreview","_initTouch","_synBallCount","_blockNode","get","createPrefab","root","_refreshBallCount","event","_hidePhysics","convertToNodeSpaceAR","getLocation","_drawLine","schedule","_shootBall","_showBtnBack","flag","_hideWaring","_touchV","sub","normalizeSelf","mul","_ballNode","_refreshCurBallCount","p0","p1","normalize","_radian","angle","_V","add","_result","rayCast","convertToWorldSpaceAR","_point","point","_normal","normal","_localPoint","_showHint","basePos","_dirV","_perV","div","_midKey","_backBall","getChildByName","_refreshBackBallCount","callFunc","_moveBlocks","_refreshProperty","name","_showBall","p","_blockArr","_indexMap","_tempIndex","push","_len","childrenCount","_lastBlock","_newIndex","_canInclude","clone","_type2","_index2","scheduleOnce","_refreshEnd","item","arr","some","onBtnClickToBallBack","unschedule","_count","_leftCount","_checkWaring","_showEnd","block","_blockH","_layerH","_distance","abs","_showWarning","fadeInAct","fadeIn","fadeOutAct","fadeOut","repeatForever","stopAllActions","clear","_len1","_len2","k","_updateProgressBar","progress","parseFloat","toFixed","onBtnClickToPause","onBtnClickToItem","e","_useProperty","target","split","getLocalZOrder","_max","max","_xArr","_xMax","_xMin","min","_showUniqueBlock","_type3","_r","random0To1","_c","onBtnClickToShop","_i","_btnArr","getComponentsInChildren","getComponentInChildren","interactable","spType","lblRuby","lblItem0","lblItem1","item0","item1","loadResDir","JsonAsset","asset","console","log","_savelv","shift","_stageCfg","loadingPre","menuPre","gamePre","endPre","pausePre","_initMenu","_initGame","_initEnd","_initPause","showAd55918","myAd55918","show","Vijs","setAD","unitid","loadedCallback","rewardedCallback","reward_name","reward_amount","_initLoading","SignModule","_stageNodePool","stagePre","scrollView","ScrollView","lblTime","lblStar","_preloadedInterstitial","signPre","loginTime","_tempNode","_showSign","content","_stageNode","onBtnClickToShareGame","find","FBInstant","shareAsync","intent","image","getImgBase64","text","myReplayData","then","renderTexture","RenderTexture","begin","_sgNode","visit","end","canvas","document","createElement","ctx","getContext","_renderType","game","RENDER_TYPE_CANVAS","texture","getSprite","getTexture","getHtmlElementObj","drawImage","RENDER_TYPE_WEBGL","buffer","gl","createFramebuffer","bindFramebuffer","FRAMEBUFFER","_texture","_glID","framebufferTexture2D","COLOR_ATTACHMENT0","TEXTURE_2D","Uint8Array","readPixels","RGBA","UNSIGNED_BYTE","rowBytes","row","srow","data2","Uint8ClampedArray","imageData","ImageData","putImageData","toDataURL","onBtnClickToShowAd","showAsync","catch","error","message","captureScreenshot","callback","getElementById","base64","off","Director","EVENT_AFTER_DRAW","frame","base64ToSpriteFrame","sprite","spriteFrame","img","Image","src","onload","Texture2D","initWithElement","handleLoadedTexture","newframe","SpriteFrame","onBtnClickToSign","initSignData","signData","isSigned","obsArray","addEventListener","func","ob","obs","removeEventListener","b","msgCBArray","msgCBItem","itemFunc","itemOb","splice","removeEventListenerWithObject","cleanAllEventListener","list","_onError","code","_onNetOpen","_onErrorDeal","errorMsgString","msgString","errorCode","errorData","onDisable","onEnable","onDestroy","onBtnClickToMenu","onBtnClickToContinue","spBg","col","lblType","spHot","btnVideo","typePath","ruby","gift","ballItemPre","rubyItemPre","giftItemPre","btnRuby","btnBall","btnGift","lblTotalRuby","_refreshTotalRuby","onBtnClickToClose","_showShadow","_showRuby","_showGift","_ballItem","_rubyData","_rubyItem","_giftData","_giftItem","onBtnClickToSubItem","reward","day0","isChecked","day1","day2","day3","day4","day5","day6","videoSigned","time","Date","_curTime","_lastTime","setHours","getTime","saveSignData","spDayArr","_rewardArr","btnGot","btnDoubleGot","lblVideo","_showLeftTime","_key2","_elem2","videoSigined","onBtnClickToGot","_plusRuby","_now","_curWeekday","getDay","_end","_leftSeconds","_m","_s","onBtnClickToVideo","spStage","_canChoose","starArr","spStar","_showStageStar","onBtnClickToStage","_uiMap","createPrefabAddToRunningScene","UIPrefab","createCallBack","prefab","nodeBg","scriptBg","uiNode","uuid","toString","scene","getScene","script","rootNode","_this2","errorMessage"],"mappings":"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","sourcesContent":["module.exports = {\n    _bgMusic: null,\n    _guideMusic: null,\n    //播放按钮声音\n    playButtonSound() {\n        cc.loader.loadRes('sound/btn', cc.AudioClip, function (err, clip) {\n            cc.audioEngine.play(clip);\n        });\n    },\n\n    //播放撞击声音\n    playHitSound() {\n        cc.loader.loadRes('sound/hit', cc.AudioClip, function (err, clip) {\n            cc.audioEngine.play(clip);\n        });\n    },\n\n    //播放胜利声音\n    playWinSound() {\n        cc.loader.loadRes('sound/win', cc.AudioClip, function (err, clip) {\n            cc.audioEngine.play(clip);\n        });\n    },\n    //播放失败声音\n    playFailSound() {\n        cc.loader.loadRes('sound/fail', cc.AudioClip, function (err, clip) {\n            cc.audioEngine.play(clip);\n        });\n    },\n    //播放背景音乐\n    playMainMusic() {\n        cc.loader.loadRes('sound/bg', cc.AudioClip, function (err, clip) {\n            this._bgMusic = cc.audioEngine.play(clip, true);\n        }.bind(this));\n    },\n\n    //停止当前正在播放的背景音乐\n    stopCurrentBackgroundMusic() {\n        if (this._bgMusic !== null) {\n            cc.audioEngine.stop(this._bgMusic); //TODO cc.audioEngine.stopMusic();???\n            this._bgMusic = null;\n        }\n    },\n\n    //播放音效\n    playEffectMusic(path, isLoop) {\n        if (typeof (isLoop) === 'undefined') {\n            isLoop = false;\n        }\n        cc.loader.loadRes(path, cc.AudioClip, function (err, clip) {\n            cc.audioEngine.playEffect(clip, isLoop);\n        });\n    }\n};","let UIMgr = require('UIMgr');\nlet GameCfg = require('GameCfg');\nlet ObserverMgr = require('ObserverMgr');\nlet ShopModule = require('ShopModule');\nlet Observer = require('Observer');\n\ncc.Class({\n    extends: Observer,\n\n    properties: {\n        spBall: {\n            displayName: 'spBall',\n            default: null,\n            type: cc.Sprite\n        },\n        lblName: {\n            displayName: 'lblName',\n            default: null,\n            type: cc.Label\n        },\n        lblPrice: {\n            displayName: 'lblPrice',\n            default: null,\n            type: cc.Label\n        },\n        btnBuy: {\n            displayName: 'btnBuy',\n            default: null,\n            type: cc.Sprite\n        },\n        btnUsed: {\n            displayName: 'btnUsed',\n            default: null,\n            type: cc.Sprite\n        },\n        spUsedBg: {\n            displayName: 'spUsedBg',\n            default: null,\n            type: cc.Sprite\n        },\n        _data: null,\n        _shopScript: null\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n    _getMsgList() {\n        return [\n            GameLocalMsg.Msg.BuyBall\n        ];\n    },\n    _onMsg(msg, data) {\n        if (msg === GameLocalMsg.Msg.BuyBall) {\n            if (data.index === this._data.index) {\n                this.initView(data);\n            } else {\n                this.initView(this._data);\n            }\n        }\n    },\n    onLoad() {\n        this._initMsg();\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n\n    initView(data) { //isUsed判定显示按钮是使用中还是购买按钮，hasOwned判定lblPrice显示是单价还是已购买\n        this._data = data;\n        let path = '';\n        if (data.type !== 'default') {\n            path = 'shop/ball/ball_img_' + data.type + data.size + '_0_1';\n        } else {\n            path = 'shop/ball/ball_img_circle18_1_1';\n        }\n        UIMgr.changeSpImg(path, this.spBall);\n        this.lblName.string = data.size + 'mm';\n        this.node.setLocalZOrder(data.index);\n\n        this.btnUsed.node.active = data.isUsed;\n        this.btnBuy.node.active = !this.btnUsed.node.active;\n        this.spUsedBg.node.active = data.isUsed;\n\n        if (!data.hasOwned) {\n            this.lblPrice.string = data.price;\n        } else {\n            this.lblPrice.string = '已购买';\n        }\n    },\n\n    onBtnClickToBuy() {\n        if (parseInt(GameCfg.totalRuby) < parseInt(this._data.price)) {\n            ObserverMgr.dispatchMsg(GameLocalMsg.Msg.InsufficientRuby, null);\n            return;\n        }\n\n        //更新当前购买小球的数据\n        this._data.isUsed = true;\n        this._data.hasOwned = true;\n        ShopModule.ball[GameCfg.ballIndex].isUsed = false;\n        GameCfg.ballIndex = this._data.index;\n        ShopModule.ball[this._data.index].isUsed = true;\n        ShopModule.ball[this._data.index].hasOwned = true;\n        GameCfg.totalRuby = parseInt(GameCfg.totalRuby) - parseInt(this._data.price);\n        GameCfg.saveTotalRuby(GameCfg.totalRuby);\n        GameCfg.saveShopData(); //保存ShopModule数据\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.RefreshRuby, null);\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.BuyBall, this._data);\n    }\n});","let ObserverMgr = require('ObserverMgr');\nlet AudioMgr = require('AudioMgr');\nlet ShopModule = require('ShopModule');\nlet GameCfg = require('GameCfg');\nlet UIMgr = require('UIMgr');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        spBall: {\n            displayName: 'spBall',\n            default: null,\n            type: cc.Sprite\n        },\n        _pool: null,\n        _hitGround: 0,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this._hitGround = 0;\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n    initView(V, pool) { //v代表速度向量\n        this._pool = pool;\n        let _phyBody = this.node.getComponent(cc.RigidBody);\n        let _vel = _phyBody.linearVelocity;\n        _vel = V;\n        _phyBody.linearVelocity = _vel;\n\n        let _ballData = ShopModule.ball[GameCfg.ballIndex];\n        let _path = 'shop/ball/ball_img_' + _ballData.type + _ballData.size + '_0_1';\n        if (_ballData.type === 'default') {\n            _path = 'shop/ball/ball_img_circle18_1_1';\n        }\n\n        UIMgr.changeSpImg(_path, this.spBall);\n        this.spBall.node.width = this.spBall.node.height = _ballData.size;\n    },\n\n    onBeginContact(contact, self, other) { //tag:block-1, ground-2,wall-3\n\n        switch (other.tag) {\n            case 1:\n                AudioMgr.playHitSound();\n                other.node.getComponent('Block').hit();\n                if (other.node.getComponent('Block')._type === 24) {\n                    let _v = self.node.getComponent(cc.RigidBody).linearVelocity;\n                    let _radianArr = [0, -Math.PI / 6, Math.PI / 6];\n                    let _randIndex = Math.floor(cc.rand() % 3);\n                    _v.rotateSelf(_radianArr[_randIndex]);\n                    self.node.getComponent(cc.RigidBody).linearVelocity = _v;\n                }\n                break;\n            case 2:\n                this._hitGround++;\n                if (this._hitGround >= 2) {\n                    AudioMgr.playHitSound();\n                    let pos = this.node.position;\n                    this._pool.put(this.node);\n                    this._hitGround = 0;\n                    ObserverMgr.dispatchMsg(GameLocalMsg.Msg.BallEndPos, pos);\n                }\n                break;\n        }\n\n    }\n});","let UIMgr = require('UIMgr');\nlet GameData = require('GameData');\nlet GameCfg = require('GameCfg');\nlet ObserverMgr = require('ObserverMgr');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        spBlock: {\n            displayName: 'spBlock',\n            default: null,\n            type: cc.Sprite\n        },\n        lblScore: {\n            displayName: 'lblScore',\n            default: null,\n            type: cc.Label\n        },\n        _type: null,\n        _index: null,\n        _data1: null,\n        _data2: null,\n        _hp: null,\n        _pool: null, //节点池\n        isUsed: false, //道具block是否使用过\n\n        //特殊类型\n        xmarkLayout: { //type:11\n            displayName: 'xmarkLayout',\n            default: null,\n            type: cc.Node\n        },\n        //type:12关闭，13打开\n        spLeft: {\n            displayName: 'spLeft',\n            default: null,\n            type: cc.Sprite\n        },\n        spRight: {\n            displayName: 'spRight',\n            default: null,\n            type: cc.Sprite\n        },\n        _isOpen: true\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        let stageData = GameData.stageData;\n        this._data1 = stageData.type.layer1.data;\n        this._data2 = stageData.type.layer2.data;\n        this._hp = 0;\n        this.isUsed = false;\n        this._isOpen = true;\n    },\n\n    start() {},\n\n    // update (dt) {},\n    initView(type, index, parentNode, pool, leftRow, isPreview = false) {\n        this._pool = pool;\n        this._type = type;\n        this._index = index;\n        this.node.setLocalZOrder(index.x);\n        let path = 'game/game_img_block' + type + '_1';\n        if ([11, 12, 13, 16, 17].indexOf(type) !== -1) {\n            path = 'game/game_img_block1_1';\n        }\n        //特殊类型\n        if (type === 11 || type === 12 || type === 13 || type === 20 || type === 16 || type === 17) { //type:20为纯阻碍block\n            // path = 'game/game_img_block1_1';\n            this.xmarkLayout.active = true;\n\n            let _parent = this.spLeft.node.parent;\n            let _w = _parent.width * 0.5;\n            this.spLeft.node.width = this.spRight.node.width = _w;\n            this.spLeft.node.active = this.spRight.node.active = false; //特指type=11\n            if (type === 12 || type === 16) { //关闭\n                this.spLeft.node.x = 0.1 * _w;\n                this.spRight.node.x = -0.1 * _w;\n                this.spLeft.node.active = this.spRight.node.active = true;\n                this._isOpen = false;\n            } else if (type === 13 || type === 17) { //打开\n                this.spLeft.node.x = -_w * 0.8;\n                this.spRight.node.x = _w * 0.8;\n                this.spLeft.node.active = this.spRight.node.active = true;\n            }\n        } else {\n            this.xmarkLayout.active = false;\n            this.spLeft.node.active = this.spRight.node.active = false;\n        }\n\n        UIMgr.changeSpImg(path, this.spBlock);\n        let x = index.x;\n        let y = index.y;\n        let vWidth = parentNode.width;\n        this.node.height = this.node.width = vWidth / GameCfg.defaultCol;\n        this.node.y = -(this.node.height + this.node.height * 0.5 + this.node.height * x) + leftRow * this.node.height; //父节点锚点（0.5， 1）\n        this.node.x = (y - Math.floor(GameCfg.defaultCol * 0.5)) * this.node.width;\n\n        if (isPreview !== false) {\n            this.lblScore.node.active = false;\n            return;\n        }\n        this._initHp(type, index);\n\n        this._initPhysics(type, index);\n    },\n\n    _initHp(type, index) {\n        let baseScore = this._data2[index.x][index.y];\n        let _arr = [1, 2, 3, 4, 5, 6, 9, 11, 12, 13, 16, 17]; //有生命值的blocks\n        if (_arr.indexOf(type) !== -1) {\n            if (type === 9 || type === 3 || type === 4 || type === 5 || type === 6 || type === 12 || type === 13 || type === 16 || type === 17) {\n                this._hp = parseInt(1 * baseScore);\n            } else if (type === 11) {\n                this._hp = parseInt(2 * baseScore);\n            } else {\n                this._hp = parseInt(type * baseScore);\n            }\n            this.refreshHp();\n        } else { //道具等blocks\n            this.lblScore.node.active = false;\n        }\n        this._resetLabelPos(this._type);\n\n\n    },\n    _initPhysics(type) {\n        let _points = [];\n        let w = this.node.width * 0.5;\n        let _p0 = cc.v2(-w, -w);\n        let _p1 = cc.v2(w, -w);\n        let _p2 = cc.v2(w, w);\n        let _p3 = cc.v2(-w, w);\n        if (type === 3) {\n            _points = [_p0, _p1, _p3];\n        } else if (type === 4) {\n            _points = [_p0, _p1, _p2];\n        } else if (type === 5) {\n            _points = [_p1, _p2, _p3];\n        } else if (type === 6) {\n            _points = [_p0, _p2, _p3];\n        } else {\n            _points = [_p0, _p1, _p2, _p3];\n        }\n\n        let _phyCollider = null;\n        if (type === 21 || type === 22 || type === 23 || type === 24 || type === 7 || type === 8) { //圆形 \n            _phyCollider = this.node.addComponent(cc.PhysicsCircleCollider);\n            _phyCollider.sensor = true;\n            this.node.width = this.node.height = w; //圆形缩小一半 \n            _phyCollider.radius = w * 0.5;\n        } else { //多边形\n            _phyCollider = this.node.addComponent(cc.PhysicsPolygonCollider);\n            _phyCollider.points = _points;\n        }\n        _phyCollider.tag = 1;\n        _phyCollider.apply();\n    },\n\n    hit() {\n        let _tempArr = [1, 2, 3, 4, 5, 6, 9, 11, 12, 13, 16, 17]; //有数值砖块类型\n        if (_tempArr.indexOf(this._type) !== -1) {\n            if (this._isOpen === false) {\n                return;\n            }\n            this._hp--;\n            this.spBlock.node.runAction(cc.sequence(cc.scaleTo(0.05, 0.8), cc.scaleTo(0.05, 1)));\n            if (this._hp <= 0 && this._type === 9) {\n                this.node.parent.children.forEach(_block => {\n                    let _script = _block.getComponent('Block');\n                    if (_script._index.x === this._index.x && _script._index.y !== this._index.y) {\n                        // this._pool.put(_block);//TODO???用节点池回收不全，达不到预期效果\n                        _block.destroy();\n                    }\n                });\n            }\n            this.refreshHp();\n            return;\n        }\n        if ([21, 22, 23].indexOf(this._type) !== -1) {\n            this.node.removeComponent(cc.PhysicsCircleCollider);\n            let _tarPos = cc.v2(this.node.x, -this.node.parent.height + this.node.height * 0.5);\n            let _moveAct = cc.moveTo(0.5, _tarPos);\n            let _scaleAct = cc.scaleTo(0.5, 0);\n            this.node.runAction(cc.sequence(_moveAct, _scaleAct, cc.removeSelf()));\n            GameData.ballCount += parseInt(this._type) - 20;\n            return;\n        }\n        if (this._type === 7) {\n            this.isUsed = true;\n            let _tempArr = this.node.parent.children;\n            _tempArr.forEach(_block => {\n                let _script = _block.getComponent('Block')\n                if (_script._index.x === this._index.x) {\n                    if ([1, 2, 3, 4, 5, 6, 9, 11, 12, 13, 16, 17].indexOf(_script._type) !== -1) {\n                        _script._hp--;\n                        _script.refreshHp();\n                    }\n                }\n            });\n            return;\n        }\n        if (this._type === 8) {\n            this.isUsed = true;\n            let _tempArr = this.node.parent.children;\n            _tempArr.forEach(_block => {\n                let _script = _block.getComponent('Block')\n                if (_script._index.y === this._index.y) {\n                    if ([1, 2, 3, 4, 5, 6, 9, 11, 12, 13, 16, 17].indexOf(_script._type) !== -1) {\n                        _script._hp--;\n                        _script.refreshHp();\n                    }\n                }\n            });\n            return;\n        }\n        if (this._type === 24) {\n            this.isUsed = true;\n        }\n    },\n    refreshHp() {\n        if (this._hp <= 0) {\n            // this._pool.put(this.node);\n            this.node.destroy();\n            ObserverMgr.dispatchMsg(GameLocalMsg.Msg.UpdateScore, null);\n            return;\n        }\n        this.lblScore.string = this._hp;\n    },\n    _resetLabelPos(type) {\n        let _w = this.node.width * 0.5;\n        let _h = this.node.height * 0.5;\n        let pos = null;\n        if (type === 3) {\n            pos = cc.v2(_w, _h).scaleSelf(cc.v2(-0.3, -0.3));\n        } else if (type === 4) {\n            pos = cc.v2(_w, _h).scaleSelf(cc.v2(0.3, -0.3));\n        } else if (type === 5) {\n            pos = cc.v2(_w, _h).scaleSelf(cc.v2(0.3, 0.3));\n        } else if (type === 6) {\n            pos = cc.v2(_w, _h).scaleSelf(cc.v2(-0.3, 0.3));\n        } else {\n            pos = cc.v2(_w, _h).scaleSelf(cc.v2(0, 0));\n        }\n        this.lblScore.node.position = pos;\n    },\n\n    playAct() {\n        let _parent = this.spLeft.node.parent;\n        let _w = _parent.width * 0.5;\n\n        if (this._isOpen) {\n            let _leftOpenAct = cc.moveBy(0.2, cc.v2(-0.9 * _w, 0));\n            let _rightOpenAct = cc.moveBy(0.2, cc.v2(0.9 * _w, 0));\n            this.spLeft.node.runAction(_leftOpenAct);\n            this.spRight.node.runAction(_rightOpenAct);\n        } else {\n            let _leftCloseAct = cc.moveBy(0.2, cc.v2(0.9 * _w, 0));\n            let _rightCloseAct = cc.moveBy(0.2, cc.v2(-0.9 * _w, 0));\n            this.spLeft.node.runAction(_leftCloseAct);\n            this.spRight.node.runAction(_rightCloseAct);\n        }\n    }\n});","let AudioMgr = require('AudioMgr');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        clickSound: {\n            displayName: 'clickSound',\n            default: null,\n            type: cc.AudioClip\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this.node.on('touchstart', function () {\n            if (this.clickSound) {\n                cc.audioEngine.playEffect(this.clickSound, false);\n            } else {\n                AudioMgr.playButtonSound();\n            }\n        });\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n});","\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        bgNode: { displayName: 'bgNode', default: null, type: cc.Node },\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        let w = cc.view.getVisibleSize().width;\n        let h = cc.view.getVisibleSize().height;\n        this.bgNode.width = w;\n        this.bgNode.height = h;\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n\n    addUI(ui) {\n        let node = cc.instantiate(ui);\n        node.x = node.y = 0;\n        this.node.addChild(node);\n        return node;\n    }\n});\n","let ObserverMgr = require('ObserverMgr');\nlet UIMgr = require('UIMgr');\nlet GameCfg = require('GameCfg');\nlet GameData = require('GameData');\nlet AudioMgr = require('AudioMgr');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        lblStage: {\n            displayName: 'lblStage',\n            default: null,\n            type: cc.Label\n        },\n        lblStatus: {\n            displayName: 'lblStatus',\n            default: null,\n            type: cc.Label\n        },\n        spStarArr: [cc.Sprite],\n        btnRetry: {\n            displayName: 'btnRetry',\n            default: null,\n            type: cc.Button\n        },\n        btnNext: {\n            displayName: 'btnNext',\n            default: null,\n            type: cc.Button\n        },\n        _data: null\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start() {\n\n    },\n\n    // update (dt) {},\n    initView(data) {\n        this.spStarArr.forEach(_spStar => {\n            _spStar.node.active = false;\n        });\n        this._data = data;\n        this.lblStage.string = '关卡 ' + data.stage;\n        this.lblStatus.string = data.status ? '通过' : '失败';\n        this.btnNext.node.active = data.status;\n        this.btnRetry.node.active = !this.btnNext.node.active;\n        for (let i = 0; i < data.starNum; ++i) {\n            this.spStarArr[i].node.active = true;\n        }\n        if (data.status) {\n            AudioMgr.playWinSound();\n        } else {\n            AudioMgr.playFailSound();\n        }\n\n    },\n\n    onBtnClickToRetry() {\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.GoGame, null);\n        UIMgr.destroyUI(this);\n    },\n\n    onBtnClickToNext() {\n        let _stage = this._data.stage;\n        let _nextStage = parseInt(_stage) + 1;\n        GameCfg.saveCurStage(_nextStage); //保存当前关卡\n        let _curStar = GameData.getStarNum(_stage);\n        if (_curStar < this._data.starNum) {\n            GameData.setStarNum(_stage, this._data.starNum);\n            GameCfg.saveStageCfg(GameData.gamedata_savelv);\n        }\n        GameData.initStageData(_nextStage); //初始化下一关数据\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.GoGame, null);\n        UIMgr.destroyUI(this);\n    },\n\n    onBtnClickToHome() {\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.GoMenu, null);\n        UIMgr.destroyUI(this);\n    },\n\n\n});","let ShopModule = require('ShopModule');\nlet GameModule = require('GameModule');\nmodule.exports = {\n    width: null,\n    heigth: null,\n    curStage: 1, //当前关卡\n    stageCfg: null, //所有关卡配置,\n    defaultCol: 11, //关卡列数,\n    ballSpeed: 2000, //小球速度,\n    baseScore: 10, //基础分数,\n    lineLength: 1500, //提示线长度\n    dotCount: 20, //提示点数量,\n    ballPlusCount: 30, //道具增加小球数量\n    //道具及成绩相关数据\n    totalStar: 0,\n    totalRuby: 1500,\n    ballIndex: 8,\n    ballData: null,\n\n    init() {\n        this.width = cc.view.getVisibleSize().width;\n        this.heigth = cc.view.getVisibleSize().height;\n        let _curStage = cc.sys.localStorage.getItem('CurStage');\n        if (_curStage === undefined || _curStage === null) {\n            _curStage = 1;\n            this.saveCurStage(_curStage);\n        }\n        this.getTotalStar(); //初始化totalStar\n        this.getTotalRuby(); //初始化totalRuby\n        this.initShopData(); //初始化小球商店数据及索引\n        this.initPropertyData(); //初始化道具数据\n    },\n    saveCurStage(value) {\n        cc.sys.localStorage.setItem('CurStage', value);\n    },\n    getCurStage() {\n        return cc.sys.localStorage.getItem('CurStage');\n    },\n    getStageCfg() {\n        return JSON.parse(cc.sys.localStorage.getItem('StageCfg'));\n    },\n    saveStageCfg(obj) {\n        cc.sys.localStorage.setItem('StageCfg', JSON.stringify(obj));\n    },\n    getTotalStar() {\n        let _star = 0;\n        let _stageData = this.getStageCfg();\n        for (const _key in _stageData) {\n            if (_stageData.hasOwnProperty(_key)) {\n                const _elem = _stageData[_key];\n                _star += _elem[1];\n            }\n        }\n        this.totalStar = _star;\n        return _star;\n    },\n    getTotalRuby() {\n        let _ruby = cc.sys.localStorage.getItem('TotalRuby');\n        if (_ruby === null || _ruby === undefined) {\n            _ruby = 1000;\n        }\n        this.totalRuby = _ruby;\n        this.saveTotalRuby(this.totalRuby);\n        return this.totalRuby;\n    },\n    saveTotalRuby(value) {\n        cc.sys.localStorage.setItem('TotalRuby', value);\n    },\n    initShopData() {\n        let _shopData = JSON.parse(cc.sys.localStorage.getItem('ShopData'));\n        if (_shopData !== null || _shopData !== undefined) {\n            ShopModule = _shopData;\n        }\n        let _ballIndex = cc.sys.localStorage.getItem('BallIndex');\n        if (_ballIndex === null || _ballIndex === undefined) {\n            _ballIndex = 8;\n        }\n        this.ballIndex = _ballIndex;\n        this.saveShopData();\n    },\n    saveShopData() {\n        cc.sys.localStorage.setItem('ShopData', JSON.stringify(ShopModule));\n        cc.sys.localStorage.setItem('BallIndex', this.ballIndex);\n    },\n    initPropertyData() {\n        let _propertyData = JSON.parse(cc.sys.localStorage.getItem('PropertyData'));\n        if (_propertyData !== null || _propertyData !== undefined) {\n            GameModule = _propertyData;\n        }\n        this.savePropertyData();\n    },\n    savePropertyData() {\n        cc.sys.localStorage.setItem('PropertyData', JSON.stringify(GameModule));\n    }\n}","module.exports = {\n    gamedata_savelv: null,\n    mapdata: null,\n    stageData: null,\n    ballCount: null,\n    init() {\n        this.gamedata_savelv = null;\n        this.mapdata = null;\n        this.stageData = null;\n    },\n\n    initStageData(index) {\n        let key = parseInt(index - 1);\n        this.stageData = this.mapdata[key].json;\n        this.ballCount = this.gamedata_savelv['stageinfo' + index][0];\n    },\n    getStarNum(index) {\n        return this.gamedata_savelv['stageinfo' + index][1];\n    },\n    setStarNum(index, value) {\n        this.gamedata_savelv['stageinfo' + index][1] = value;\n    }\n};","window.GameLocalMsg = {\n    Msg: {\n        GoMenu: 'GameLocalMsg.Msg.GoMenu',\n        GoGame: 'GameLocalMsg.Msg.GoGame',\n        BallEndPos: 'GameLocalMsg.Msg.BallEndPos',\n        CanTouch: 'GameLocalMsg.Msg.CanTouch',\n        End: 'GameLocalMsg.Msg.End',\n        UpdateScore: 'GameLocalMsg.Msg.UpdateScore',\n        Pause: 'GameLocalMsg.Msg.Pause',\n        PauseRetry: 'GameLocalMsg.Msg.PauseRetry',\n        PauseGoMenu: 'GameLocalMsg.Msg.PauseGoMenu',\n        InsufficientRuby: 'GameLocalMsg.Msg.InsufficientRuby',\n        BuyBall: 'GameLocalMsg.Msg.BuyBall',\n        RefreshRuby: 'GameLocalMsg.Msg.RefreshRuby'\n    }\n}","module.exports = {\n    property: [{\n            index: 0,\n            price: 100,\n            num: 1\n        },\n        {\n            index: 0,\n            price: 100,\n            num: 1\n        },\n        {\n            index: 0,\n            price: 100,\n            num: 2\n        },\n        {\n            index: 0,\n            price: 100,\n            num: 1\n        },\n        {\n            index: 0,\n            price: 100,\n            num: 1\n        },\n    ]\n}","let GameCfg = require('GameCfg');\nlet GameData = require('GameData');\nlet UIMgr = require('UIMgr');\nlet Observer = require('Observer');\nlet ObserverMgr = require('ObserverMgr');\nlet ShopModule = require('ShopModule');\nlet GameModule = require('GameModule');\ncc.Class({\n    extends: Observer,\n\n    properties: {\n        addNode: {\n            displayName: 'addNode',\n            default: null,\n            type: cc.Node\n        },\n        _blockPool: null,\n        blockPre: {\n            displayName: 'blockPre',\n            default: null,\n            type: cc.Prefab\n        },\n        blockLayer: {\n            displayName: 'blockLayer',\n            default: null,\n            type: cc.Node\n        },\n        _data1: null, //类型数据\n        _data2: null, //基础分数数据\n        _leftRow: null, //未展示行数\n        previewPre: { //预览界面\n            displayName: 'previewPre',\n            default: null,\n            type: cc.Prefab\n        },\n        _ballPool: null,\n        ballPre: {\n            displayName: 'ballPre',\n            default: null,\n            type: cc.Prefab\n        },\n        _ballCount: null,\n        ballLayer: {\n            displayName: 'ballLayer',\n            default: null,\n            type: cc.Node\n        },\n        spBall: {\n            displayName: 'spBall',\n            default: null,\n            type: cc.Sprite\n        },\n        lblBallCount: {\n            displayName: 'lblBallCount',\n            default: null,\n            type: cc.Label\n        },\n        spBallTemp: {\n            displayName: 'spBallTemp',\n            default: null,\n            type: cc.Sprite\n        },\n        lblBallCountTemp: {\n            displayName: 'lblBallCountTemp',\n            default: null,\n            type: cc.Label\n        },\n        ballUILayer: {\n            displayName: 'ballUILayer',\n            default: null,\n            type: cc.Node\n        },\n        _ballData: null,\n        //点击监听\n        _canTouch: false,\n        _ballPos: null,\n        _touchP: null,\n        _shootBallCount: null,\n        //与地面碰撞\n        _ballEndPos: null,\n        backBallLayer: {\n            displayName: 'backBallLayer',\n            default: null,\n            type: cc.Node\n        },\n        _backBallCount: null,\n\n        //底部相关按钮\n        bottomLayout: {\n            displayName: 'bottomLayout',\n            default: null,\n            type: cc.Node\n        },\n        btnBack: {\n            displayName: 'btnBack',\n            default: null,\n            type: cc.Button\n        },\n        //展示warning\n        spWarning: {\n            displayName: 'spWarning',\n            default: null,\n            type: cc.Sprite\n        },\n        //分数计算\n        _killCount: null,\n        _sumScore: null,\n        _maxScore: null,\n        lblTotalScore: {\n            displayName: 'lblTotalScore',\n            default: null,\n            type: cc.Label\n        },\n        progressBar: {\n            displayName: 'progressBar',\n            default: null,\n            type: cc.ProgressBar\n        },\n        _starNum: 0,\n        spStarArr: [cc.Sprite],\n        //射线层\n        hintLayer: {\n            displayName: 'hintLayer',\n            default: null,\n            type: cc.Node\n        },\n        spHintDot: {\n            displayName: 'spHintDot',\n            default: null,\n            type: cc.Sprite\n        },\n        spDot: {\n            displayName: 'spDot',\n            default: null,\n            type: cc.Sprite\n        },\n        dotLayout: {\n            displayName: 'dotLayout',\n            default: null,\n            type: cc.Node\n        },\n        //道具使用\n        ballPlusFlag: false,\n        blockPlusFlag: false,\n        propertyLayout: {\n            displayName: 'propertyLayout',\n            default: null,\n            type: cc.Node\n        },\n        //uiLayer\n        shopPre: {\n            displayName: 'shopPre',\n            default: null,\n            type: cc.Prefab\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n    _getMsgList() {\n        return [\n            GameLocalMsg.Msg.BallEndPos,\n            GameLocalMsg.Msg.CanTouch,\n            GameLocalMsg.Msg.End,\n            GameLocalMsg.Msg.UpdateScore,\n            GameLocalMsg.Msg.PauseRetry,\n            GameLocalMsg.Msg.PauseGoMenu,\n            GameLocalMsg.Msg.BuyBall\n        ];\n    },\n    _onMsg(msg, data) {\n        if (msg === GameLocalMsg.Msg.BallEndPos) {\n            if (this._ballEndPos === null) {\n                this._ballEndPos = cc.v2(data.x, this.spBall.node.y);\n                //展示返回的节点\n                this.spBallTemp.node.active = true;\n                this.spBallTemp.node.position = this._ballEndPos;\n            }\n            this._showBackBall(data);\n        } else if (msg === GameLocalMsg.Msg.CanTouch) {\n            this._canTouch = true; //TODO可有可无？？\n            this._starNum = 1;\n            this._updateStar();\n        } else if (msg === GameLocalMsg.Msg.End) {\n            this._close();\n        } else if (msg === GameLocalMsg.Msg.UpdateScore) {\n            this._killCount++;\n            this._refreshScore();\n        } else if (msg === GameLocalMsg.Msg.PauseRetry) { //关闭暂停界面且关闭游戏界面\n            ObserverMgr.dispatchMsg(GameLocalMsg.Msg.GoGame, null);\n            this._close();\n        } else if (msg === GameLocalMsg.Msg.PauseGoMenu) {\n            ObserverMgr.dispatchMsg(GameLocalMsg.Msg.GoMenu, null);\n            this._close();\n        } else if (msg === GameLocalMsg.Msg.BuyBall) { //游戏中收到购买小球消息\n            this._showUIBall();\n        }\n    },\n    onLoad() {\n        this._initMsg();\n        this._initPhysics(); //初始化物理环境\n        this._blockPool = new cc.NodePool('Block'); //创建block对象池\n        for (let i = 0; i < 121; ++i) {\n            let _tempBlockNode = cc.instantiate(this.blockPre);\n            this._blockPool.put(_tempBlockNode);\n        }\n        this.blockLayer.destroyAllChildren();\n        this._ballPool = new cc.NodePool('Ball'); //创建ball对象池\n        for (let i = 0; i < 80; ++i) {\n            let _tempBallNode = cc.instantiate(this.ballPre);\n            this._ballPool.put(_tempBallNode);\n        }\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n    _initPhysics() {\n        this.physicsManager = cc.director.getPhysicsManager();\n        this.physicsManager.enabled = true;\n        // this.physicsManager.debugDrawFlags = cc.PhysicsManager.DrawBits.e_aabbBit |\n        //     cc.PhysicsManager.DrawBits.e_pairBit |\n        //     cc.PhysicsManager.DrawBits.e_centerOfMassBit |\n        //     cc.PhysicsManager.DrawBits.e_jointBit |\n        //     cc.PhysicsManager.DrawBits.e_shapeBit;\n    },\n    initView() {\n        //关卡基础数值\n        let stageData = GameData.stageData;\n        this._data1 = stageData.type.layer1.data;\n        this._data2 = stageData.type.layer2.data;\n        let len = this._data1.length;\n        this._leftRow = len - parseInt(GameCfg.defaultCol);\n\n        //隐藏射线及初始化提示画线\n        this.hintLayer.children.forEach(_elem => {\n            _elem.active = false;\n        });\n        for (let i = 0; i < GameCfg.dotCount; ++i) {\n            let _dotNode = cc.instantiate(this.spDot.node);\n            this.dotLayout.addChild(_dotNode);\n        }\n\n        //首次初始化得分\n        this._sumScore = 0;\n        this.lblTotalScore.string = this._sumScore;\n        this._calMaxScore(); //计算最高得分\n        this.spStarArr.forEach(_spStar => {\n            _spStar.node.active = false;\n        });\n        //初始化UILayer及基本计数\n        this._reset();\n        //展示block\n        this.blockLayer.destroyAllChildren();\n        for (let i = len - parseInt(GameCfg.defaultCol); i < len; ++i) {\n            for (let j = 0; j < GameCfg.defaultCol; ++j) {\n                let _type = this._data1[i][j];\n                let _index = cc.v2(i, j);\n                this._showBlock(_type, _index, this.blockLayer, this._leftRow);\n            }\n        }\n        this._showPreview(this._data1);\n        this._initTouch();\n    },\n    _synBallCount() {\n        this._ballCount = GameData.ballCount;\n    },\n\n    _showBlock(type, index, parentNode, leftRow) { //展示block\n        if (type === 0) {\n            return;\n        }\n        let _blockNode = this._blockPool.get();\n        if (!_blockNode) {\n            _blockNode = cc.instantiate(this.blockPre);\n        }\n        parentNode.addChild(_blockNode);\n        _blockNode.getComponent('Block').initView(type, index, parentNode, this._blockPool, leftRow);\n    },\n\n    _showPreview(data) {\n        UIMgr.createPrefab(this.previewPre, function (root, ui) {\n            this.addNode.addChild(root);\n            ui.getComponent('Preview').initView(data, this._blockPool);\n        }.bind(this));\n    },\n\n    _refreshBallCount() {\n        this.lblBallCount.node.active = true;\n        this.lblBallCount.string = 'x' + this._ballCount;\n    },\n\n    //初始化点击监听\n    _initTouch() {\n        this._canTouch = false;\n        this.ballLayer.on('touchstart', function (event) {\n            if (this._canTouch) {\n                this._hidePhysics(false); //隐藏block物理\n                this._touchP = this.ballLayer.convertToNodeSpaceAR(event.getLocation());\n                this._drawLine(this.spBall.node.position, this._touchP);\n            }\n        }.bind(this));\n        this.ballLayer.on('touchmove', function (event) {\n            if (this._canTouch) {\n                this._touchP = this.ballLayer.convertToNodeSpaceAR(event.getLocation());\n                this._hidePhysics(false); //隐藏block物理\n                this._drawLine(this.spBall.node.position, this._touchP);\n            }\n        }.bind(this));\n        this.ballLayer.on('touchend', function (event) {\n            if (this._canTouch) {\n                this.hintLayer.children.forEach(_elem => { //隐藏射线提示线\n                    _elem.active = false;\n                });\n\n                this._hidePhysics(true); //显示block物理\n                this.spHintDot.node.active = false;\n                this._canTouch = false;\n                this._touchP = this.ballLayer.convertToNodeSpaceAR(event.getLocation());\n                this.schedule(this._shootBall, 0.2, this._ballCount - 1, 0);\n                this._showBtnBack();\n            }\n        }.bind(this));\n        this.ballLayer.on('touchcancel', function (event) {\n\n        }.bind(this));\n    },\n    _hidePhysics(flag) {\n        this.blockLayer.children.forEach(_elem => {\n            if (_elem.getComponent(cc.PhysicsCircleCollider) !== null) {\n                _elem.getComponent(cc.PhysicsCircleCollider).enabled = flag;\n                return;\n            }\n            if (_elem.getComponent(cc.PhysicsPolygonCollider) !== null) {\n                _elem.getComponent(cc.PhysicsPolygonCollider).enabled = flag;\n                return;\n            }\n        });\n    },\n    _shootBall() {\n        this._hideWaring();\n        let _touchV = this._touchP.sub(this._ballPos).normalizeSelf().mul(GameCfg.ballSpeed);\n        let _ballNode = this._ballPool.get();\n        if (!_ballNode) {\n            _ballNode = cc.instantiate(this.ballPre);\n        }\n        this.ballLayer.addChild(_ballNode);\n        _ballNode.position = this.spBall.node.position;\n        _ballNode.getComponent('Ball').initView(_touchV, this._ballPool);\n        this._refreshCurBallCount(); //刷新当前小球数\n    },\n    _drawLine(p0, p1) {\n        let _touchV = p1.sub(p0).normalize();\n        let _radian = _touchV.angle(cc.v2(1, 0));\n        if (_radian < 0.14 || _radian > 3) { //限制角度\n            return;\n        }\n        let _V = _touchV.mul(GameCfg.lineLength);\n        let _p0 = p0;\n        let _p1 = p0.add(_V);\n        let _result = this.physicsManager.rayCast(this.ballLayer.convertToWorldSpaceAR(_p0), this.ballLayer.convertToWorldSpaceAR(_p1))[0];\n        let _point = _result.point;\n        let _normal = _result.normal;\n        let _localPoint = this.ballLayer.convertToNodeSpaceAR(_point);\n        this._showHint(_localPoint, _normal, p0);\n    },\n    _showHint(point, normal, basePos) {\n        this.dotLayout.active = true;\n        this.spHintDot.node.active = true;\n        this.spHintDot.node.position = point;\n        let _dirV = point.sub(basePos);\n        let _perV = _dirV.div(GameCfg.dotCount * 0.7);\n        let _midKey = GameCfg.dotCount * 0.7;\n        for (const key in this.dotLayout.children) {\n            if (this.dotLayout.children.hasOwnProperty(key)) {\n                let _dotNode = this.dotLayout.children[key];\n                _dotNode.position = basePos.add(_perV.mul(key));\n                if (key > _midKey) {\n                    if (normal.y === 0) {\n                        _dotNode.x = this.dotLayout.children[_midKey - (key - _midKey)].x;\n                    } else if (normal.x === 0) {\n                        _dotNode.y = this.dotLayout.children[_midKey - (key - _midKey)].y;\n                    }\n                }\n            }\n        }\n    },\n    _showBackBall(pos) {\n        let _backBall = cc.instantiate(this.spBall.node); //cc.instantiate参数必须是node \n        this.backBallLayer.addChild(_backBall);\n        _backBall.getChildByName('lblBallCount').active = false;\n        _backBall.y = this.spBall.node.y;\n        _backBall.x = pos.x;\n        if (pos.x === this._ballEndPos.x && pos.y === this._ballEndPos.y) {\n            this._refreshBackBallCount();\n            return;\n        }\n        _backBall.runAction(cc.sequence(cc.moveTo(0.1, this._ballEndPos), cc.removeSelf(), cc.callFunc(this._refreshBackBallCount, this)));\n    },\n    _refreshCurBallCount() {\n        this._shootBallCount++;\n        this.lblBallCount.string = 'x' + parseInt(this._ballCount - this._shootBallCount);\n        if (this._shootBallCount === this._ballCount) {\n            this.spBall.node.position = this._ballEndPos;\n            this.lblBallCount.node.active = false;\n        }\n    },\n    _refreshBackBallCount() {\n        this._backBallCount++;\n        this.lblBallCountTemp.string = 'x' + this._backBallCount;\n        if (this._backBallCount === this._ballCount) {\n            this._reset();\n            this._moveBlocks();\n        }\n    },\n    _reset() {\n        this._refreshProperty();\n        //道具使用后的重置\n        if (this.ballPlusFlag) {\n            this.ballPlusFlag = false;\n            GameData.ballCount = GameData.ballCount - GameCfg.ballPlusCount;\n        } else {\n            this.ballPlusCount = false;\n        }\n        if (this.blockPlusFlag) {\n            this.blockPlusFlag = false;\n            this.blockLayer.children.forEach(_block => {\n                if (_block.name === 'plusBlock') {\n                    _block.destroy();\n                }\n            });\n        }\n\n        this._killCount = 0; //重置消失数量\n        this._hideWaring();\n        this._synBallCount();\n        this._canTouch = true;\n        this._showUIBall();\n        this._showBtnBack();\n        this._ballEndPos = null;\n        this._shootBallCount = 0; //发射出来人小球数\n        this._backBallCount = 0; //返回小球数\n\n        // this.hintLayer.children.forEach(_elem => {\n        //     _elem.active = false;\n        // });\n    },\n    //展示ball\n    _showBall() {\n        // this.spBall.node.x = 0;\n        if (this._ballEndPos !== null) {\n            this.spBall.node.position = this._ballEndPos;\n        } else {\n            this.spBall.node.y = -this.ballLayer.height + this.spBall.node.height * 0.5;\n            this.spBall.node.x = 0;\n        }\n        this._ballPos = this.spBall.node.position;\n        this._refreshBallCount();\n    },\n    _showUIBall() {\n        this._ballData = ShopModule.ball[GameCfg.ballIndex];\n        let _path = 'shop/ball/ball_img_' + this._ballData.type + this._ballData.size + '_0_1';\n        if (this._ballData.type === 'default') {\n            _path = 'shop/ball/ball_img_circle18_1_1';\n        }\n\n        UIMgr.changeSpImg(_path, this.spBall);\n        UIMgr.changeSpImg(_path, this.spBallTemp);\n        this.spBall.node.width = this.spBall.node.height = this._ballData.size;\n        this.spBallTemp.node.width = this.spBallTemp.node.height = this._ballData.size;\n        this.spBall.node.active = this._canTouch ? true : false;\n        this.spBallTemp.node.active = !this.spBall.node.active;\n        this._showBall();\n    },\n    _moveBlocks() { //type:11,12,13,16,17,20的block不移动\n        let _h = this.blockLayer.width / GameCfg.defaultCol;\n        let _moveAct = cc.moveBy(0.2, cc.p(0, -_h));\n        let _blockArr = this.blockLayer.children;\n        let _indexMap = [];\n        _blockArr.forEach(_elem => {\n            if (_elem.getComponent('Block').isUsed === true) {\n                _elem.getComponent('Block').isUsed = false;\n                // this._blockPool.put(_elem);\n                _elem.destroy(); //必须用这个。因为nodepool要求提取和放回的node不能有任何后期的处理\n            } else {\n                let _tempIndex = _elem.getComponent('Block')._index;\n                _indexMap.push(_tempIndex);\n            }\n        });\n        let _len = this.blockLayer.childrenCount;\n        for (let i = _len - 1; i >= 0; --i) {\n            let _lastBlock = this.blockLayer.children[i];\n            let _script = _lastBlock.getComponent('Block');\n            let _type = _script._type;\n            let _index = _script._index;\n            let _newIndex = _index.add(cc.v2(1, 0));\n            if ([11, 12, 13, 16, 17, 20].indexOf(_type) === -1) {\n                if (!this._canInclude(_newIndex, _indexMap)) {\n                    _script._index.x++; //TODO ???\n                    _lastBlock.runAction(_moveAct.clone());\n                }\n            } else if (_type === 12 || _type === 13 || _type === 16 || _type === 17) {\n                let _isOpen = _script._isOpen\n                _script._isOpen = !_isOpen;\n                _script.playAct();\n            }\n        }\n        //显示一行剩余的blocks\n        if (this._leftRow > 0) {\n            this._leftRow--;\n            let _data1 = this._data1[this._leftRow];\n            // let _data2 = this._data2[this._leftRow];\n            for (let j = 0; j < GameCfg.defaultCol; ++j) {\n                let _type = _data1[j];\n                let _index = cc.v2(this._leftRow, j);\n                this._showBlock(_type, _index, this.blockLayer, this._leftRow);\n            }\n        }\n        // this._refreshEnd();\n        this.scheduleOnce(this._refreshEnd, 0.5);\n    },\n    _canInclude(item, arr) {\n        return arr.some((value) => {\n            return value.x === item.x && value.y === item.y;\n        });\n    },\n    _showBtnBack() { //刷新小球快速返回按钮\n        this.bottomLayout.active = this._canTouch ? true : false;\n        this.btnBack.node.active = !this.bottomLayout.active;\n    },\n    onBtnClickToBallBack() {\n        this._canTouch = true;\n        this._showBtnBack();\n        this.unschedule(this._shootBall, this);\n        if (this._ballEndPos === null) {\n            this._ballEndPos = this.spBall.node.position;\n        }\n        this.ballLayer.children.forEach(_elem => {\n            _elem.removeComponent(cc.PhysicsCircleCollider);\n            _elem.removeComponent(cc.RigidBody);\n            _elem.runAction(cc.sequence(cc.moveTo(0.1, this._ballEndPos), cc.callFunc(() => {\n                _elem.destroy();\n            })));\n        });\n        this.scheduleOnce(() => {\n            this._reset();\n            this._moveBlocks();\n        }, 0.5);\n    },\n\n    _refreshEnd() {\n        let _count = this.blockLayer.childrenCount;\n        let _leftCount = 0;\n        let _arr = [1, 2, 3, 4, 5, 6, 9, 11, 12, 13, 16, 17];\n\n        for (let i = _count - 1; i >= 0; --i) {\n            let _block = this.blockLayer.children[i];\n            let _script = _block.getComponent('Block');\n            let _type = _script._type;\n            if (_arr.indexOf(_type) !== -1) {\n                _leftCount++;\n                if (this._checkWaring(_block)) {\n                    break;\n                }\n            }\n        }\n        if (_count === 0 || _leftCount <= 0) {\n            //展示结束界面\n            this._showEnd(true);\n        }\n    },\n    _checkWaring(block) {\n        let _blockH = this.blockLayer.width / GameCfg.defaultCol;\n        let _layerH = this.blockLayer.height;\n        let _distance = Math.abs(_layerH + block.y);\n        if (_distance <= _blockH * 0.5) {\n            this._showEnd(false);\n            return true;\n        }\n        if (_distance > _blockH * 0.5 && _distance < _blockH * 1.5) {\n            this._showWarning();\n            return true;\n        }\n    },\n    _showWarning() {\n        let fadeInAct = cc.fadeIn(1);\n        let fadeOutAct = cc.fadeOut(1);\n        this.spWarning.node.active = true;\n        this.spWarning.node.runAction(cc.repeatForever(cc.sequence(fadeInAct, fadeOutAct)));\n    },\n    _hideWaring() {\n        this.spWarning.node.stopAllActions();\n        this.spWarning.node.active = false;\n    },\n    _showEnd(flag) { //flag:true胜利，false失败\n        let _data = {\n            status: flag,\n            stage: GameCfg.getCurStage(),\n            starNum: this._starNum\n        };\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.End, _data);\n    },\n    _close() {\n        this._ballPool.clear();\n        this._blockPool.clear();\n        UIMgr.destroyUI(this);\n    },\n    //计算关卡最高分\n    _calMaxScore() {\n        let _arr = [1, 2, 3, 4, 5, 6, 9];\n        let _len = 0;\n        let _len1 = this._data1.length;\n        let _len2 = this._data2.length;\n        for (let i = 0; i < _len1; ++i) {\n            for (let j = 0; j < _len2; ++j) {\n                if (_arr.indexOf(this._data1[i][j]) !== -1) {\n                    _len++;\n                }\n            }\n        }\n        for (let k = 0; k < _len; ++k) {\n            this._maxScore += (k + 1) * GameCfg.baseScore;\n        }\n    },\n    //刷新得分\n    _refreshScore() {\n        this._sumScore += this._killCount * GameCfg.baseScore;\n        this.lblTotalScore.string = this._sumScore;\n        this._updateProgressBar();\n    },\n    _updateProgressBar() {\n        this.progressBar.progress = parseFloat(this._sumScore / this._maxScore).toFixed(1);\n        if (this.progressBar.progress >= 0.7 && this.progressBar.progress < 1.0) {\n            this._starNum = 2;\n        } else if (this.progressBar.progress >= 1.0) {\n            this._starNum = 3;\n        }\n        this._updateStar();\n    },\n    _updateStar() {\n        let len = this.spStarArr.length;\n        for (let i = 0; i < len; ++i) {\n            if (i === this._starNum - 1) {\n                this.spStarArr[i].node.active = true;\n            }\n        }\n    },\n\n    //暂停界面\n    onBtnClickToPause() {\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.Pause, null);\n    },\n\n    onBtnClickToItem(e) {\n        this._useProperty(parseInt(e.target.name.split('btnItem')[1]));\n        switch (e.target.name) {\n            case 'btnItem0':\n                this.blockLayer.children.forEach(_elem => {\n                    let _type = _elem.getComponent('Block')._type;\n                    let _hp = _elem.getComponent('Block')._hp;\n                    if ([1, 2, 3, 4, 5, 6, 9, 11, 12, 13, 16, 17].indexOf(_type) !== -1) {\n                        _elem.getComponent('Block')._hp = Math.floor(_hp * 0.5);\n                        _elem.getComponent('Block').refreshHp();\n                    }\n                });\n                this.scheduleOnce(this._refreshEnd, 0.5);\n                break;\n            case 'btnItem1':\n                this.ballPlusFlag = true;\n                GameData.ballCount = GameData.ballCount + GameCfg.ballPlusCount;\n                this._synBallCount();\n                this._refreshBallCount();\n                break;\n            case 'btnItem2':\n                let _arr = [];\n                this.blockLayer.children.forEach(_block => {\n                    let _type = _block.getComponent('Block')._type;\n                    if ([1, 2, 3, 4, 5, 6, 9, 11, 12, 13, 16, 17].indexOf(_type) !== -1) {\n                        _arr.push(_block.getLocalZOrder());\n                    }\n                });\n                let _max = Math.max(..._arr);\n                this.blockLayer.children.forEach(_block => {\n                    let _type = _block.getComponent('Block')._type;\n                    if (_block.getLocalZOrder() === _max && [1, 2, 3, 4, 5, 6, 9, 11, 12, 13, 16, 17].indexOf(_type) !== -1) {\n                        _block.destroy();\n                    }\n                });\n                this.scheduleOnce(this._refreshEnd, 0.5);\n                break;\n            case 'btnItem3':\n                let _xArr = [];\n                let _indexMap = [];\n                // let _count = 0;\n                this.blockLayer.children.forEach(_block => {\n                    let _type = _block.getComponent('Block')._type;\n                    let _index = _block.getComponent('Block')._index\n                    if ([1, 2, 3, 4, 5, 6, 9, 11, 12, 13, 16, 17].indexOf(_type) !== -1) {\n                        _xArr.push(_index.x);\n                        _indexMap.push(_index);\n                    }\n                });\n                let _xMax = Math.max(..._xArr);\n                let _xMin = Math.min(..._xArr);\n                for (let i = 0; i < 4; ++i) {\n                    let _type = 0;\n                    if (i < 2) {\n                        _type = 8;\n                    } else {\n                        _type = 7;\n                    }\n                    this._showUniqueBlock(_xMin, _xMax, _indexMap, _type);\n                }\n                break;\n            case 'btnItem4':\n                this.blockPlusFlag = true;\n                for (let j = 6; j < 11; ++j) {\n                    let _type = 20;\n                    let _blockNode = this._blockPool.get();\n                    if (!_blockNode) {\n                        _blockNode = cc.instantiate(this.blockPre);\n                    }\n                    this.blockLayer.addChild(_blockNode);\n                    _blockNode.getComponent('Block').initView(_type, cc.v2(0, j), this.blockLayer, this._blockPool, 0);\n                    _blockNode.y = -this.blockLayer.height + _blockNode.height * 0.5;\n                    _blockNode.name = 'plusBlock';\n                }\n                break;\n        }\n    },\n    _showUniqueBlock(min, max, arr, type) { //道具4的功能：空位上生成道具\n        let _r = Math.floor(cc.random0To1() * max) + min;\n        let _c = Math.floor(cc.random0To1() * GameCfg.defaultCol);\n        let _index = cc.v2(_r, _c);\n        if (!this._canInclude(_index, arr)) {\n            this._showBlock(type, _index, this.blockLayer, 0);\n        } else {\n            this._showUniqueBlock(min, max, arr, type);\n        }\n    },\n\n    onBtnClickToShop() { //0:ruby,1:ball,2:gift\n        let _i = 1;\n        UIMgr.createPrefab(this.shopPre, function (root, ui) {\n            this.addNode.addChild(root);\n            ui.getComponent('Shop').initView(_i);\n        }.bind(this));\n    },\n\n    //刷新底部道具列表\n    _refreshProperty() {\n        let _btnArr = this.propertyLayout.getComponentsInChildren(cc.Button);\n        for (const _key in _btnArr) {\n            if (_btnArr.hasOwnProperty(_key)) {\n                let _elem = GameModule.property[_key];\n                _btnArr[_key].node.getChildByName('layout').getComponentInChildren(cc.Label).string = _elem.price;\n                _btnArr[_key].node.getChildByName('layout').active = _elem.num <= 0 ? true : false;\n                _btnArr[_key].node.getChildByName('lblProperty').active = !_btnArr[_key].node.getChildByName('layout').active;\n                _btnArr[_key].node.getChildByName('lblProperty').getComponent(cc.Label).string = 'x' + _elem.num;\n                // if (GameModule.property[_key].num > 0 || GameModule.property[_key].price <= GameCfg.totalRuby) {\n                //     _btnArr[_key].interactable = true;\n                // } else {\n                //     _btnArr[_key].interactable = false;\n                // }\n                _btnArr[_key].interactable = GameModule.property[_key].num > 0 || GameModule.property[_key].price <= GameCfg.totalRuby\n\n            }\n        }\n    },\n    _useProperty(i) {\n        if (GameModule.property[i].num > 0) {\n            GameModule.property[i].num--;\n            GameCfg.savePropertyData();\n        } else {\n            if (GameCfg.totalRuby > GameModule.property[i].price) {\n                GameCfg.totalRuby -= GameModule.property[i].price\n                GameCfg.saveTotalRuby(GameCfg.totalRuby);\n                ObserverMgr.dispatchMsg(GameLocalMsg.Msg.RefreshRuby, null);\n            }\n        }\n        this._refreshProperty();\n    }\n});","let UIMgr = require('UIMgr');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        spType: {\n            displayName: 'spType',\n            default: null,\n            type: cc.Sprite\n        },\n        lblRuby: {\n            displayName: 'lblRuby',\n            default: null,\n            type: cc.Label\n        },\n        lblItem0: {\n            displayName: 'lblItem0',\n            default: null,\n            type: cc.Label\n        },\n        lblItem1: {\n            displayName: 'lblItem1',\n            default: null,\n            type: cc.Label\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start() {\n\n    },\n\n    // update (dt) {},\n    initView(data) {\n        let _path = 'shop/ruby/game_img_' + data.type;\n        UIMgr.changeSpImg(_path, this.spType);\n        this.lblRuby.string = 'x ' + data.num;\n        this.lblItem0.string = 'x ' + data.item0;\n        this.lblItem1.string = 'x ' + data.item1;\n    }\n});","let GameData = require('GameData');\nlet GameCfg = require('GameCfg');\n\nlet Observer = require('Observer');\nlet ObserverMgr = require('ObserverMgr');\nlet UIMgr = require('UIMgr');\n\ncc.Class({\n    extends: Observer,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n    _getMsgList() {\n        return [];\n    },\n    _onMsg(msg, data) {\n\n    },\n    // onLoad() {\n\n    // },\n\n    start() {\n        cc.loader.loadResDir('map', cc.JsonAsset, function (err, asset) {\n            if (err) {\n                console.log('加载地图json出错: ', err);\n                return;\n            }\n            let _savelv = asset.shift();\n            let _stageCfg = GameCfg.getStageCfg();\n            if (_stageCfg === undefined || _stageCfg === null) {\n                GameData.gamedata_savelv = _savelv.json;\n            } else {\n                GameData.gamedata_savelv = _stageCfg;\n            }\n            GameData.mapdata = asset;\n            ObserverMgr.dispatchMsg(GameLocalMsg.Msg.GoMenu, null);\n            this.scheduleOnce(this._close, 1);\n\n        }.bind(this));\n    },\n\n    _close() {\n        UIMgr.destroyUI(this);\n    }\n\n    // update (dt) {},\n});","let Observer = require('Observer');\nlet UIMgr = require('UIMgr');\nlet GameData = require('GameData');\nlet GameCfg = require('GameCfg');\ncc.Class({\n    extends: Observer,\n\n    properties: {\n        addNode: { //预制挂载节点\n            displayName: 'addNode',\n            default: null,\n            type: cc.Node\n        },\n        loadingPre: { //loading界面\n            displayName: 'loadingPre',\n            default: null,\n            type: cc.Prefab\n        },\n        menuPre: { //menu界面\n            displayName: 'menuPre',\n            default: null,\n            type: cc.Prefab\n        },\n        gamePre: { //game界面\n            displayName: 'gamePre',\n            default: null,\n            type: cc.Prefab\n        },\n        endPre: { //end界面\n            displayName: 'endPre',\n            default: null,\n            type: cc.Prefab\n        },\n        pausePre: { //pause界面\n            displayName: 'pausePre',\n            default: null,\n            type: cc.Prefab\n        }\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n    _getMsgList() {\n        return [\n            GameLocalMsg.Msg.GoMenu,\n            GameLocalMsg.Msg.GoGame,\n            GameLocalMsg.Msg.End,\n            GameLocalMsg.Msg.Pause\n        ];\n    },\n    _onMsg(msg, data) {\n        if (msg === GameLocalMsg.Msg.GoMenu) {\n            this._initMenu();\n        } else if (msg === GameLocalMsg.Msg.GoGame) {\n            this._initGame();\n        } else if (msg === GameLocalMsg.Msg.End) {\n            this._initEnd(data);\n        } else if (msg === GameLocalMsg.Msg.Pause) {\n            this._initPause();\n        }\n    },\n    onLoad() {\n        this._initMsg();\n        GameData.init(); //初始化游戏数据\n        GameCfg.init(); //初始化游戏配置数据\n\n        function showAd55918() {\n            window.myAd55918 && window.myAd55918.show();\n        }\n        //初始化视频广告mobvista\n        if (window.Vijs) {\n            window.myAd55918 = Vijs.setAD({\n                unitid: 55918,\n                loadedCallback: function () {\n                    console.log('load success');\n                    showAd55918();\n                },\n                rewardedCallback: function (reward_name, reward_amount) {\n                    console.log(reward_amount);\n                }\n            });\n        }\n    },\n\n    start() {\n        this._initLoading();\n\n    },\n\n    // update (dt) {},\n    _initLoading() { //展示loading界面\n        UIMgr.createPrefab(this.loadingPre, function (root, ui) {\n            this.addNode.addChild(root);\n        }.bind(this));\n    },\n\n    _initMenu() {\n        UIMgr.createPrefab(this.menuPre, function (root, ui) {\n            this.addNode.addChild(root);\n            ui.getComponent('Menu').initView();\n        }.bind(this));\n    },\n\n    _initGame() {\n        UIMgr.createPrefab(this.gamePre, function (root, ui) {\n            this.addNode.addChild(root);\n            ui.getComponent('Game').initView();\n        }.bind(this));\n    },\n    _initEnd(data) {\n        UIMgr.createPrefab(this.endPre, function (root, ui) {\n            this.addNode.addChild(root);\n            ui.getComponent('End').initView(data);\n        }.bind(this));\n    },\n    _initPause() {\n        UIMgr.createPrefab(this.pausePre, function (root, ui) {\n            this.addNode.addChild(root);\n        }.bind(this));\n    },\n    //视频广告播放\n    // showAd55918() {\n    //     cc.log('ad');\n    //     window.myAd55918 && window.myAd55918.show();\n    // }\n});","let GameData = require('GameData');\nlet Observer = require('Observer');\nlet UIMgr = require('UIMgr');\nlet GameCfg = require('GameCfg');\nlet SignModule = require('SignModule');\n\ncc.Class({\n    extends: Observer,\n\n    properties: {\n        _stageNodePool: null,\n        stagePre: {\n            displayName: 'stagePre',\n            default: null,\n            type: cc.Prefab\n        },\n        scrollView: {\n            displayName: 'scrollView',\n            default: null,\n            type: cc.ScrollView\n        },\n        lblRuby: {\n            displayName: 'lblRuby',\n            default: null,\n            type: cc.Label\n        },\n        lblTime: {\n            displayName: 'lblTime',\n            default: null,\n            type: cc.Label\n        },\n        lblStar: {\n            displayName: 'lblStar',\n            default: null,\n            type: cc.Label\n        },\n        _preloadedInterstitial: null,\n\n        //截图\n        // sprite: {\n        //     displayName: 'sprite',\n        //     default: null,\n        //     type: cc.Sprite\n        // },\n\n        addNode: {\n            displayName: 'addNode',\n            default: null,\n            type: cc.Node\n        },\n        //商城\n        shopPre: {\n            displayName: 'shopPre',\n            default: null,\n            type: cc.Prefab\n        },\n        //签到\n        signPre: {\n            displayName: 'signPre',\n            default: null,\n            type: cc.Prefab\n        },\n        loginTime: null,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n    _getMsgList() {\n        return [\n            GameLocalMsg.Msg.GoGame,\n            GameLocalMsg.Msg.RefreshRuby\n        ];\n    },\n    _onMsg(msg, data) {\n        if (msg === GameLocalMsg.Msg.GoGame) {\n            this._close();\n        } else if (msg === GameLocalMsg.Msg.RefreshRuby) {\n            this.lblRuby.string = GameCfg.totalRuby;\n        }\n    },\n    onLoad() {\n        //播放视频广告\n        // this.showAd55918();\n        this._initMsg();\n        //创建节点池\n        let len = 30\n        this._stageNodePool = new cc.NodePool('Stage');\n        for (let i = 0; i < len; ++i) {\n            let _tempNode = cc.instantiate(this.stagePre);\n            this._stageNodePool.put(_tempNode);\n        }\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n    initView() {\n        this._showSign();\n        this.scrollView.content.destroyAllChildren();\n        let len = GameData.mapdata.length;\n        for (let i = 0; i < len; ++i) {\n            let _stageNode = this._stageNodePool.get();\n            if (!_stageNode) {\n                _stageNode = cc.instantiate(this.stagePre);\n            }\n            this.scrollView.content.addChild(_stageNode);\n            _stageNode.getComponent('Stage').initView(i + 1);\n        }\n        this.lblStar.string = GameCfg.totalStar;\n        this.lblRuby.string = GameCfg.totalRuby;\n\n        // if (typeof FBInstant === 'undefined') return;\n        // console.log('FBInstant.player.getName(): ', FBInstant.player.getName());\n\n        // this._preloadedInterstitial = null;\n\n        // FBInstant.getInterstitialAdAsync(\n        //     '516008902181730_516903352092285', // Your Ad Placement Id\n        // ).then(function (interstitial) {\n        //     // Load the Ad asynchronously\n        //     this._preloadedInterstitial = interstitial;\n        //     return this._preloadedInterstitial.loadAsync();\n        // }.bind(this)).then(function () {\n        //     console.log('Interstitial preloaded')\n        // }).catch(function (err) {\n        //     console.error('Interstitial failed to preload: ' + err.message);\n        // });\n\n    },\n    _close() {\n        UIMgr.destroyUI(this);\n    },\n    // 分享功能\n    onBtnClickToShareGame() {\n        console.log('share>>>: ');\n        console.log('cc.find(\"canvas\"): ', cc.find('canvas'));\n        if (typeof FBInstant === 'undefined') return;\n        FBInstant.shareAsync({\n            intent: 'SHARE',\n            image: this.getImgBase64(),\n            text: 'X is asking for your help!',\n            data: {\n                myReplayData: '...'\n            },\n        }).then(() => {\n            // continue with the game.\n            console.log('well done: ');\n        });\n        // this.captureScreenshot();\n    },\n\n    // 截屏返回 iamge base6，用于 Share\n    getImgBase64() {\n        // let sp = cc.find('Canvas/New Sprite(Splash)').getComponent(cc.Sprite);\n\n        let target = cc.find('Canvas');\n        // let width = cc.view.getVisibleSize().width,\n        //     height = cc.view.getVisibleSize().height;\n        // let width = cc.director.getWinSize().width;\n        // let height = cc.director.getWinSize().height;\n        let width = 1080;\n        let height = 1920;\n        let renderTexture = new cc.RenderTexture(width, height);\n        renderTexture.begin();\n        target._sgNode.visit();\n        renderTexture.end();\n        //\n        let canvas = document.createElement('canvas');\n\n        let ctx = canvas.getContext('2d');\n        canvas.width = width;\n        canvas.height = height;\n        if (cc._renderType === cc.game.RENDER_TYPE_CANVAS) {\n            let texture = renderTexture.getSprite().getTexture();\n            let image = texture.getHtmlElementObj();\n            ctx.drawImage(image, 0, 0);\n        } else if (cc._renderType === cc.game.RENDER_TYPE_WEBGL) {\n            let buffer = gl.createFramebuffer();\n            gl.bindFramebuffer(gl.FRAMEBUFFER, buffer);\n            let texture = renderTexture.getSprite().getTexture()._glID;\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n            let data = new Uint8Array(width * height * 4);\n            gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, data);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n            let rowBytes = width * 4;\n            for (let row = 0; row < height; row++) {\n                let srow = height - 1 - row;\n                let data2 = new Uint8ClampedArray(data.buffer, srow * width * 4, rowBytes);\n                let imageData = new ImageData(data2, width, 1);\n                ctx.putImageData(imageData, 0, row);\n            }\n        }\n        return canvas.toDataURL('image/png');\n    },\n\n    onBtnClickToShowAd() {\n        console.log('showAd: ');\n        this._preloadedInterstitial.showAsync()\n            .then(function () {\n                // Perform post-ad success operation\n                console.log('Interstitial ad finished successfully');\n            })\n            .catch(function (e) {\n                console.error(e.message);\n            });\n    },\n\n    captureScreenshot() {\n        function callback() {\n            var canvas = document.getElementById(\"GameCanvas\");\n            var base64 = canvas.toDataURL(\"image/png\");\n            cc.director.off(cc.Director.EVENT_AFTER_DRAW);\n            var frame = this.base64ToSpriteFrame(base64, (frame) => {\n                this.sprite.spriteFrame = frame;\n            });\n        }\n        cc.director.on(cc.Director.EVENT_AFTER_DRAW, callback.bind(this));\n    },\n\n    base64ToSpriteFrame(base64, callback) {\n        var img = new Image();\n        img.src = base64;\n        img.onload = function () {\n            var texture = new cc.Texture2D();\n            texture.initWithElement(img);\n            texture.handleLoadedTexture();\n            var newframe = new cc.SpriteFrame(texture);\n            if (callback) callback(newframe);\n        }\n    },\n\n    onBtnClickToShop(e) {\n        let i = 0;\n        if (e.target.name === 'mainmenu_btn_shop') {\n            i = 0;\n        } else if (e.target.name === 'mainmenu_btn_ball') {\n            i = 1;\n        }\n        UIMgr.createPrefab(this.shopPre, function (root, ui) {\n            this.addNode.addChild(root);\n            ui.getComponent('Shop').initView(i);\n        }.bind(this));\n    },\n\n    onBtnClickToSign() {\n        UIMgr.createPrefab(this.signPre, function (root, ui) {\n            this.addNode.addChild(root);\n            ui.getComponent('Sign').initView();\n        }.bind(this));\n    },\n\n    _showSign() {\n        SignModule.initSignData();\n        if (SignModule.signData.isSigned) {\n            return;\n        }\n        UIMgr.createPrefab(this.signPre, function (root, ui) {\n            this.addNode.addChild(root);\n            ui.getComponent('Sign').initView();\n        }.bind(this));\n    },\n\n    //视频广告播放\n    showAd55918() {\n        window.myAd55918 && window.myAd55918.show();\n    }\n});","module.exports = {\n    obsArray: {},\n    // 注册事件\n    // func 为函数\n    // ob 为作用域\n    // todo 后续优先级的设计\n    addEventListener: function (msg, func, ob) {\n        if (typeof ob === \"undefined\") {\n            console.log(\"[ObserverMgr] 注册消息 [%s]:%s 的作用于未定义\", msg, func.name);\n        }\n\n        let obs = this.obsArray[msg];\n        if (typeof obs === \"undefined\") {\n            this.obsArray[msg] = [];\n        }\n        //  当重复的事件重复回调注册时,不予注册 fixme 匿名函数还是会重复注册\n        for (let k = 0; k < this.obsArray[msg].length; k++) {\n            let item = this.obsArray[msg][k];\n            if (item['func'] === func &&\n                item['ob'] === ob) {\n                //console.log(\"重复注册\" + msg + \":\" + func);\n                return;\n            }\n        }\n        this.obsArray[msg].push({func: func, ob: ob});\n    },\n    // 取消注册事件\n    removeEventListener: function (msg, func, ob) {\n        let b = false;\n        let msgCBArray = this.obsArray[msg];\n        if (msgCBArray) {\n            for (let i = 0; i < msgCBArray.length;) {\n                let msgCBItem = msgCBArray[i];\n                let itemFunc = msgCBItem['func'];\n                let itemOb = msgCBItem['ob'];\n                if (func === itemFunc && ob === itemOb) {// 从消息队列里面移除msg回调\n                    msgCBArray.splice(i, 1);\n                    b = true;\n                } else {\n                    i++;\n                }\n            }\n        }\n        return b;\n    },\n    // 移除该作用域的所有事件\n    removeEventListenerWithObject: function (ob) {\n        for (let k in this.obsArray) {// [msg:[{func:func, ob:ob}]]\n            let msgCBArray = this.obsArray[k]; // [{func: func, ob: ob}]\n            for (let i = 0; i < msgCBArray.length;) {\n                // {func: func, ob: ob}\n                let msgCBItem = msgCBArray[i];\n                if (msgCBItem['ob'] === ob) {\n                    msgCBArray.splice(i, 1);\n                } else {\n                    i++;\n                }\n            }\n        }\n    },\n    // todo 清除所有的消息注册\n    cleanAllEventListener() {\n        this.obsArray = {};\n    },\n    dispatchMsg: function (msg, data) {\n        let obs = this.obsArray[msg];\n        if (typeof obs !== \"undefined\") {\n            for (let k = 0; k < obs.length; k++) {\n                let item = obs[k];\n                let func = item['func'];\n                let ob = item['ob'];\n                if (func && ob) {\n                    //call必须是object\n                    //apply必须是array\n                    func.apply(ob, [msg, data]);\n                }\n            }\n        } else {\n            console.log(\"消息列表中不存在: \" + msg);\n        }\n    },\n}","let ObserverMgr = require(\"ObserverMgr\");\ncc.Class({\n    extends: cc.Component,\n\n    _initMsg() {\n        let list = this._getMsgList();\n        for (let k = 0; k < list.length; k++) {\n            let msg = list[k];\n            ObserverMgr.addEventListener(msg, this._onMsg, this);\n        }\n        // ObserverMgr.addEventListener(GameMsgGlobal.Net.MsgErr, this._onErrorDeal, this);\n    },\n    onLoad() {\n    },\n    _getMsgList() {\n        return [];\n    },\n    // [子类继承接口]消息返回\n    _onMsg(msg, data) {\n        //let len = \"error-\".length;\n        //msg = msg.substr(len, msg.length - len);\n        //return msg;\n    },\n    // [子类继承接口]游戏内逻辑错误\n    _onError(msg, code, data) {\n\n    },\n    // [子类继承接口]网络 重新/第一次 打开\n    _onNetOpen() {\n\n    },\n\n    //处理错误数据\n    _onErrorDeal(errorMsgString, data) {\n        let msgString = data[0];\n        let errorCode = data[1];\n        let errorData = data[2];\n        this._onError(msgString, errorCode, errorData);\n    },\n    onDisable() {\n        ObserverMgr.removeEventListenerWithObject(this);\n    },\n    onEnable() {\n        // TODO next version register event method\n        // ObserverMgr.removeEventListenerWithObject(this);\n        // this._initMsg();\n    },\n    onDestroy() {\n        ObserverMgr.removeEventListenerWithObject(this);\n    },\n});","let UIMgr = require('UIMgr');\nlet ObserverMgr = require('ObserverMgr');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start() {\n\n    },\n\n    // update (dt) {},\n    onBtnClickToMenu() {\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.PauseGoMenu, null);\n        UIMgr.destroyUI(this);\n    },\n\n    onBtnClickToRetry() {\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.PauseRetry, null);\n        UIMgr.destroyUI(this);\n    },\n\n    onBtnClickToContinue() {\n        // ObserverMgr.dispatchMsg(GameLocalMsg.Msg.Continue, null);\n        UIMgr.destroyUI(this);\n    }\n});","let UIMgr = require('UIMgr');\nlet GameCfg = require('GameCfg');\nlet ObserverMgr = require('ObserverMgr');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        blockLayer: {\n            displayName: 'blockLayer',\n            default: null,\n            type: cc.Node\n        },\n        blockPre: {\n            displayName: 'blockPre',\n            default: null,\n            type: cc.Prefab\n        },\n        spBg: {\n            displayName: 'spBg',\n            default: null,\n            type: cc.Sprite\n        },\n        _blockPool: null\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start() {\n\n    },\n\n    // update (dt) {},\n    initView(data, pool) {\n        this._blockPool = pool;\n        let row = data.length;\n        let col = GameCfg.defaultCol;\n        let w = this.spBg.node.width / GameCfg.defaultCol;\n        this.spBg.node.height = w * row * 1.5;\n        for (let i = 0; i < row; ++i) {\n            for (let j = 0; j < col; ++j) {\n                let _type = data[i][j];\n                let _index = cc.v2(i, j);\n                this._showBlock(_type, _index, this.blockLayer, this._blockPool);\n            }\n        }\n        this.scheduleOnce(this._close, 3);\n    },\n\n    _close() {\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.CanTouch, null);\n        UIMgr.destroyUI(this);\n    },\n\n    _showBlock(type, index, parentNode, pool) { //展示block\n        if (type === 0) {\n            return;\n        }\n        let _blockNode = this._blockPool.get();\n        if (!_blockNode) {\n            _blockNode = cc.instantiate(this.blockPre);\n        }\n        parentNode.addChild(_blockNode);\n        _blockNode.getComponent('Block').initView(type, index, parentNode, pool, 0, true); //0表示leftrow不存在\n    },\n});","let UIMgr = require('UIMgr');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        lblType: {\n            displayName: 'lblType',\n            default: null,\n            type: cc.Label\n        },\n        spHot: {\n            displayName: 'spHot',\n            default: null,\n            type: cc.Sprite\n        },\n        spType: {\n            displayName: 'spType',\n            default: null,\n            type: cc.Sprite\n        },\n        lblName: {\n            displayName: 'lblName',\n            default: null,\n            type: cc.Label\n        },\n        btnBuy: {\n            displayName: 'btnBuy',\n            default: null,\n            type: cc.Button\n        },\n        btnVideo: {\n            displayName: 'btnVideo',\n            default: null,\n            type: cc.Button\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start() {\n\n    },\n\n    // update (dt) {},\n    initView(data) {\n        //左上角标志\n        this.lblType.string = data.type;\n        if (data.typePath !== null) {\n            UIMgr.changeSpImg(data.typePath, this.spHot);\n        } else {\n            this.spHot.node.active = false;\n        }\n        //名字与类型图片\n        let _path = 'shop/ruby/game_img_' + data.path;\n        UIMgr.changeSpImg(_path, this.spType);\n        this.lblName.string = data.name;\n\n        //购买与视频按钮\n        this.btnVideo.node.active = data.type === '免费' ? true : false;\n        this.btnBuy.node.active = data.type === '免费' ? false : true\n    }\n});","module.exports = {\n    ruby: [{\n            typePath: 'shop/ruby/shop_btn_hot',\n            type: '热卖',\n            path: 'mzq',\n            name: '黄金描准',\n        },\n        {\n            typePath: 'shop/ruby/shop_btn_hot',\n            type: '热卖',\n            path: 'ads_1',\n            name: '移除广告',\n        },\n        {\n            typePath: 'shop/ruby/shop_btn_free',\n            type: '免费',\n            path: 'ruby1',\n            name: '20',\n\n        },\n        {\n            typePath: null,\n            type: '',\n            path: 'ruby2',\n            name: '100',\n\n        },\n        {\n            typePath: null,\n            type: '',\n            path: 'ruby3',\n            name: '200',\n\n        },\n        {\n            typePath: null,\n            type: '',\n            path: 'ruby4',\n            name: '300',\n\n        },\n        {\n            typePath: 'shop/ruby/shop_btn_bq',\n            type: '+10%',\n            path: 'ruby5',\n            name: '550',\n\n        },\n        {\n            typePath: 'shop/ruby/shop_btn_bq',\n            type: '+15',\n            path: 'ruby6',\n            name: '1150',\n\n        },\n        {\n            typePath: 'shop/ruby/shop_btn_bq',\n            type: '+20%',\n            path: 'ruby7',\n            name: '3600',\n\n        },\n        {\n            typePath: 'shop/ruby/shop_btn_bq',\n            type: '+25%',\n            path: 'ruby8',\n            name: '6250',\n        },\n        {\n            typePath: 'shop/ruby/shop_btn_bq',\n            type: '+50%',\n            path: 'ruby9',\n            name: '15000',\n        }\n    ],\n    ball: [{\n            index: 0,\n            type: 'circle',\n            size: 14,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 1,\n            type: 'triangle',\n            size: 14,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 2,\n            type: 'diamond',\n            size: 14,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 3,\n            type: 'javelin',\n            size: 14,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 4,\n            type: 'pentagon',\n            size: 14,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 5,\n            type: 'star',\n            size: 14,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 6,\n            type: 'flower',\n            size: 14,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 7,\n            type: 'circle',\n            size: 18,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 8,\n            type: 'default',\n            size: 18,\n            isUsed: true,\n            price: 1000,\n            hasOwned: true\n        },\n        {\n            index: 9,\n            type: 'triangle',\n            size: 18,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 10,\n            type: 'diamond',\n            size: 18,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 11,\n            type: 'javelin',\n            size: 18,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 12,\n            type: 'pentagon',\n            size: 18,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 13,\n            type: 'star',\n            size: 18,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 14,\n            type: 'flower',\n            size: 18,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 15,\n            type: 'circle',\n            size: 22,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 16,\n            type: 'triangle',\n            size: 22,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 17,\n            type: 'diamond',\n            size: 22,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 18,\n            type: 'javelin',\n            size: 22,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 19,\n            type: 'pentagon',\n            size: 22,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 20,\n            type: 'star',\n            size: 22,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 21,\n            type: 'flower',\n            size: 22,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 22,\n            type: 'circle',\n            size: 26,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 23,\n            type: 'triangle',\n            size: 26,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 24,\n            type: 'diamond',\n            size: 26,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 25,\n            type: 'javelin',\n            size: 26,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 26,\n            type: 'pentagon',\n            size: 26,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 27,\n            type: 'star',\n            size: 26,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 28,\n            type: 'flower',\n            size: 26,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 29,\n            type: 'circle',\n            size: 30,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 30,\n            type: 'triangle',\n            size: 30,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 31,\n            type: 'diamond',\n            size: 30,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 32,\n            type: 'javelin',\n            size: 30,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 33,\n            type: 'pentagon',\n            size: 30,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 34,\n            type: 'star',\n            size: 30,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n        {\n            index: 35,\n            type: 'flower',\n            size: 30,\n            isUsed: false,\n            price: 1000,\n            hasOwned: false\n        },\n    ],\n\n    gift: [{\n            type: 'ruby5',\n            num: 5000,\n            item0: 15,\n            item1: 15\n        },\n        {\n            type: 'ruby7',\n            num: 12000,\n            item0: 33,\n            item1: 33\n        }\n    ]\n};","let UIMgr = require('UIMgr');\nlet ShopModule = require('ShopModule');\nlet Observer = require('Observer');\nlet GameCfg = require('GameCfg');\n\ncc.Class({\n    extends: Observer,\n\n    properties: {\n        scrollView: {\n            displayName: 'scrollView',\n            default: null,\n            type: cc.ScrollView\n        },\n        ballItemPre: {\n            displayName: 'ballItemPre',\n            default: null,\n            type: cc.Prefab\n        },\n        rubyItemPre: {\n            displayName: 'rubyItemPre',\n            default: null,\n            type: cc.Prefab\n        },\n        giftItemPre: {\n            displayName: 'giftItemPre',\n            default: null,\n            type: cc.Prefab\n        },\n        btnRuby: {\n            displayName: 'btnRuby',\n            default: null,\n            type: cc.Button\n        },\n        btnBall: {\n            displayName: 'btnBall',\n            default: null,\n            type: cc.Button\n        },\n        btnGift: {\n            displayName: 'btnGift',\n            default: null,\n            type: cc.Button\n        },\n        lblTotalRuby: { // 总ruby数\n            displayName: 'lblTotalRuby',\n            default: null,\n            type: cc.Label\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n    _getMsgList() {\n        return [\n            GameLocalMsg.Msg.InsufficientRuby,\n            GameLocalMsg.Msg.RefreshRuby\n        ];\n    },\n    _onMsg(msg, data) {\n        if (msg === GameLocalMsg.Msg.InsufficientRuby) {\n            this.initView(0); //去ruby商店 \n        } else if (msg === GameLocalMsg.Msg.RefreshRuby) {\n            this._refreshTotalRuby();\n        }\n    },\n    onLoad() {\n        this._initMsg();\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n\n    onBtnClickToClose() {\n        UIMgr.destroyUI(this);\n    },\n\n    initView(i) { //0:ruby,1:shop,2:gift\n        this._showShadow(i);\n        if (i === 0) {\n            this._showRuby();\n        } else if (i === 1) {\n            this._showBall();\n        } else if (i === 2) {\n            this._showGift();\n        }\n        this._refreshTotalRuby();\n    },\n\n    _showBall() {\n        this.scrollView.content.destroyAllChildren();\n        let _ballData = ShopModule.ball;\n        for (const _key in _ballData) {\n            if (_ballData.hasOwnProperty(_key)) {\n                const _elem = _ballData[_key];\n                let _ballItem = cc.instantiate(this.ballItemPre);\n                this.scrollView.content.addChild(_ballItem);\n                _ballItem.getComponent('BallItem').initView(_elem);\n            }\n        }\n    },\n\n    _showRuby() {\n        this.scrollView.content.destroyAllChildren();\n        let _rubyData = ShopModule.ruby;\n        for (const _key in _rubyData) {\n            if (_rubyData.hasOwnProperty(_key)) {\n                const _elem = _rubyData[_key];\n                let _rubyItem = cc.instantiate(this.rubyItemPre);\n                this.scrollView.content.addChild(_rubyItem);\n                _rubyItem.getComponent('RubyItem').initView(_elem);\n            }\n        }\n    },\n    _showShadow(i) {\n        this.btnRuby.node.getChildByName('spShadow').active = i === 0 ? false : true;\n        this.btnBall.node.getChildByName('spShadow').active = i === 1 ? false : true;\n        this.btnGift.node.getChildByName('spShadow').active = i === 2 ? false : true;\n    },\n\n    _showGift() {\n        this.scrollView.content.destroyAllChildren();\n        let _giftData = ShopModule.gift;\n        for (const _key in _giftData) {\n            if (_giftData.hasOwnProperty(_key)) {\n                const _elem = _giftData[_key];\n                let _giftItem = cc.instantiate(this.giftItemPre);\n                this.scrollView.content.addChild(_giftItem);\n                _giftItem.getComponent('GiftItem').initView(_elem);\n            }\n        }\n    },\n\n    onBtnClickToSubItem(e) {\n        if (!e.target.getChildByName('spShadow').active) {\n            return;\n        }\n        let i = 0;\n        if (e.target.name === 'btnRuby') {\n            i = 0;\n        } else if (e.target.name === 'btnBall') {\n            i = 1;\n        } else if (e.target.name === 'btnGift') {\n            i = 2;\n        }\n        this.initView(i);\n    },\n    _refreshTotalRuby() {\n        this.lblTotalRuby.string = GameCfg.totalRuby;\n    }\n});","module.exports = {\n    signData: null,\n    reward: {\n        day0: {\n            isChecked: false\n        },\n        day1: {\n            isChecked: false\n        },\n        day2: {\n            isChecked: false\n        },\n        day3: {\n            isChecked: false\n        },\n        day4: {\n            isChecked: false\n        },\n        day5: {\n            isChecked: false\n        },\n        day6: {\n            isChecked: false\n        },\n    },\n\n    initSignData() {\n        this.signData = JSON.parse(cc.sys.localStorage.getItem('Sign'));\n        if (this.signData === null || this.signData === undefined) {\n            this.signData = {\n                isSigned: false,\n                videoSigned: false,\n                time: new Date(),\n                reward: this.reward\n            };\n        }\n        let _curTime = new Date();\n        let _lastTime = new Date(this.signData.time);\n        _lastTime.setHours(23, 59, 59);\n\n        if (_curTime.getTime() > _lastTime.getTime()) {\n            this.signData.time = _curTime;\n            this.signData.isSigned = false;\n            this.saveSignData(this.signData);\n        }\n        return this.signData;\n    },\n    saveSignData(data) {\n        cc.sys.localStorage.setItem('Sign', JSON.stringify(data));\n    }\n};","let UIMgr = require('UIMgr');\nlet SignModule = require('SignModule');\nlet GameCfg = require('GameCfg');\nlet ObserverMgr = require('ObserverMgr');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        spDayArr: [cc.Sprite],\n        _rewardArr: [],\n        btnGot: {\n            displayName: 'btnGot',\n            default: null,\n            type: cc.Button\n        },\n        btnDoubleGot: {\n            displayName: 'btnDoubleGot',\n            default: null,\n            type: cc.Button\n        },\n        lblTime: {\n            displayName: 'lblTime',\n            default: null,\n            type: cc.Label\n        },\n        lblVideo: {\n            displayName: 'lblVideo',\n            default: null,\n            type: cc.Label\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n\n    },\n\n    start() {\n\n    },\n\n    initView() {\n        this.unschedule(this._showLeftTime);\n        this._rewardArr = [];\n        for (const _key in SignModule.signData.reward) {\n            if (SignModule.signData.reward.hasOwnProperty(_key)) {\n                const _elem = SignModule.signData.reward[_key];\n                this._rewardArr.push(_elem);\n            }\n        }\n        for (const _key in this._rewardArr) {\n            if (this._rewardArr.hasOwnProperty(_key)) {\n                const _elem = this._rewardArr[_key];\n                this.spDayArr[_key].node.getChildByName('check').active = this.spDayArr[_key].node.getChildByName('spCheckBg').active = _elem.isChecked;\n            }\n        }\n        this.btnGot.interactable = !SignModule.signData.isSigned;\n        this.btnDoubleGot.interactable = !SignModule.signData.videoSigined;\n\n        this.lblVideo.string = SignModule.signData.videoSigined ? '已领取' : '加倍';\n        if (SignModule.signData.isSigned) {\n            this._showLeftTime();\n            this.schedule(this._showLeftTime, 1);\n        } else {\n            this.lblTime.string = '领取';\n        }\n    },\n\n    // update (dt) {},\n    onBtnClickToClose() {\n        this.unschedule(this._showLeftTime);\n        UIMgr.destroyUI(this);\n    },\n\n    onBtnClickToGot() {\n        let _plusRuby = 0;\n        let _now = new Date();\n        let _curWeekday = _now.getDay();\n        if (_curWeekday === 0) {\n            _curWeekday = 7;\n        }\n        if (_curWeekday === 3) {\n            _plusRuby = 50;\n        } else if (_curWeekday === 5) {\n            _plusRuby = 100;\n        } else if (_curWeekday === 7) {\n            _plusRuby = 150;\n        }\n        GameCfg.totalRuby += _plusRuby;\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.RefreshRuby, null);\n        let _key = parseInt(_curWeekday - 1);\n        SignModule.signData.reward['day' + _key].isChecked = true;\n        SignModule.signData.isSigned = true;\n        SignModule.saveSignData(SignModule.signData);\n        SignModule.reward = SignModule.signData.reward;\n        this.initView();\n    },\n    _showLeftTime() {\n        let _curTime = new Date();\n        let _now = _curTime.getTime();\n        _curTime.setHours(23, 59, 59);\n        let _end = _curTime.getTime();\n        let _leftSeconds = (_end - _now) / 1000;\n        let _h = Math.floor(_leftSeconds / 3600 % 24);\n        let _m = Math.floor(_leftSeconds / 60 % 60);\n        let _s = Math.floor(_leftSeconds % 60);\n        this.lblTime.string = _h + ':' + _m + ':' + _s;\n    },\n\n    onBtnClickToVideo() {\n        let _plusRuby = 0;\n        let _now = new Date();\n        let _curWeekday = _now.getDay();\n        if (_curWeekday === 0) {\n            _curWeekday = 7;\n        }\n        if (_curWeekday === 3) {\n            _plusRuby = 100;\n        } else if (_curWeekday === 5) {\n            _plusRuby = 200;\n        } else if (_curWeekday === 7) {\n            _plusRuby = 300;\n        } else {\n            _plusRuby = 50;\n        }\n        GameCfg.totalRuby += _plusRuby;\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.RefreshRuby, null);\n        SignModule.signData.videoSigined = true;\n        SignModule.saveSignData(SignModule.signData);\n        this.initView();\n    }\n\n});","let GameCfg = require('GameCfg');\nlet UIMgr = require('UIMgr');\nlet ObserverMgr = require('ObserverMgr');\nlet GameData = require('GameData');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        spStage: { //预制挂载节点\n            displayName: 'spStage',\n            default: null,\n            type: cc.Sprite\n        },\n        lblStage: { //预制挂载节点\n            displayName: 'lblStage',\n            default: null,\n            type: cc.Label\n        },\n        _index: null,\n        _canChoose: false,\n        starArr: [cc.Sprite]\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this._canChoose = false;\n        this.lblStage.node.active = false;\n        this.starArr.forEach(spStar => {\n            spStar.node.active = false;\n        });\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n    initView(index) {\n        this._index = index;\n        if (GameCfg.getCurStage() >= index) {\n            this._canChoose = true;\n            this.lblStage.node.active = true;\n            this.lblStage.string = index;\n            let path = 'menu/mainmenu_img_stageunlockbg';\n            UIMgr.changeSpImg(path, this.spStage);\n            let _starNum = GameData.getStarNum(index);\n            if (_starNum === undefined) {\n                return;\n            }\n            this._showStageStar(_starNum);\n        }\n    },\n\n    _showStageStar(starNum) {\n        for (let i = 0; i < starNum; ++i) {\n            this.starArr[i].node.active = true;\n        }\n    },\n\n    onBtnClickToStage() {\n        if (!this._canChoose) {\n            return;\n        }\n        GameData.initStageData(this._index);\n        ObserverMgr.dispatchMsg(GameLocalMsg.Msg.GoGame, null);\n    }\n});","module.exports = {\r\n    _uiMap: {},\r\n    /*\r\n    * 使用实例:\r\n    * UIMgr.createPrefabAddToRunningScene(this.userInfoLayer, function (ui) {\r\n            // ui 为实例化Prefab\r\n        }.bind(this));\r\n    * */\r\n\r\n    createPrefabAddToRunningScene(UIPrefab, createCallBack) {\r\n        if (!UIPrefab) {\r\n            cc.log(\"[UIMgr] 无法创建Prefab：\" + UIPrefab);\r\n            return;\r\n        }\r\n        cc.loader.loadRes(\"common/prefab/ComUIBg\", (err, prefab) => {\r\n            let nodeBg = cc.instantiate(prefab);\r\n            let scriptBg = nodeBg.getComponent('ComUIBg');\r\n            if (scriptBg) {\r\n                let uiNode = scriptBg.addUI(UIPrefab);\r\n                let uuid = uiNode.uuid.toString();\r\n                cc.log(\"add uuid: \" + uuid);\r\n                this._uiMap[uuid] = nodeBg;\r\n                let scene = cc.director.getScene();\r\n                if (scene) {\r\n                    let w = cc.view.getVisibleSize().width;\r\n                    let h = cc.view.getVisibleSize().height;\r\n                    nodeBg.x = w / 2;\r\n                    nodeBg.y = h / 2;\r\n                    scene.addChild(nodeBg);\r\n                    if (createCallBack) {\r\n                        createCallBack(uiNode);\r\n                    }\r\n                    return;\r\n                }\r\n                cc.log(\"[UIMgr] 没有运行Scene,无法添加ui界面！\");\r\n            }\r\n        });\r\n    },\r\n\r\n    destroyUI(script) {\r\n        //节点被销毁  添加返回音效\r\n        if (script) {\r\n            if (script.node) {\r\n                let uuid = script.node.uuid.toString();\r\n\r\n                let rootNode = this._uiMap[uuid];\r\n                if (rootNode) {\r\n                    rootNode.destroy();\r\n\r\n                    this._uiMap[script.node.uuid.toString()] = null; //??? this._uiMap[script.node.uuid.toString()] = null;\r\n                    return;\r\n                }\r\n                cc.log(\"[UIMgr] \" + script.name + \" 没有node属性\");\r\n                return;\r\n            }\r\n            cc.log(\"[UIMgr] \" + script.name + \" 没有node属性\");\r\n            return;\r\n        }\r\n        cc.log(\"[UIMgr] 缺少参数\");\r\n    },\r\n\r\n    /*\r\n    * 使用实例:\r\n    * UIMgr.createPrefab(this.userInfoLayer, function (root, ui) {\r\n            this.uiNode.addChild(root);\r\n        }.bind(this));\r\n    * */\r\n    createPrefab(UIPrefab, createCallBack) {\r\n        if (!UIPrefab) {\r\n            cc.log(\"[UIMgr] 无法创建Prefab：\" + UIPrefab);\r\n            return;\r\n        }\r\n        cc.loader.loadRes(\"common/prefab/ComUIBg\", (err, prefab) => {\r\n            if (err) {\r\n                cc.log(err.errorMessage);\r\n                return;\r\n            }\r\n            let nodeBg = cc.instantiate(prefab);\r\n            let scriptBg = nodeBg.getComponent('ComUIBg');\r\n            if (scriptBg) {\r\n                let uiNode = scriptBg.addUI(UIPrefab); //对应真正加载的预制\r\n                let uuid = uiNode.uuid.toString();\r\n                this._uiMap[uuid] = nodeBg;\r\n                if (createCallBack) {\r\n                    createCallBack(nodeBg, uiNode);\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n    changeSpImg(path, sprite) {\r\n        cc.loader.loadRes(path, cc.SpriteFrame, function (err, spriteFrame) {\r\n            if (err) {\r\n                console.log('更换图片错误: ', err);\r\n                return;\r\n            }\r\n            sprite.spriteFrame = spriteFrame;\r\n        });\r\n    }\r\n};"],"sourceRoot":"/source/","file":"project.dev.js"}